A51 MACRO ASSEMBLER  GPS_NMEA                                                             11/09/2012 17:30:01 PAGE     1


MACRO ASSEMBLER A51 V8.02
OBJECT MODULE PLACED IN GPS_NMEA.OBJ
ASSEMBLER INVOKED BY: C:\Keil\C51\BIN\A51.EXE GPS_NMEA.src PR(.\GPS_NMEA.ls1) EP DEBUG

LOC  OBJ            LINE     SOURCE

                       1     ; .\GPS_NMEA.SRC generated from: GPS_NMEA.c
                       2     ; COMPILER INVOKED BY:
                       3     ;        C:\Keil\C51\BIN\C51.EXE GPS_NMEA.c LARGE BROWSE DEBUG OBJECTEXTEND SRC(.\GPS_NMEA.
                             SRC)
                       4     
                       5     $nomod51 
                       6     
                       7     NAME    GPS_NMEA
                       8     
  00B7                 9     ModuleSelect0   BIT     0B0H.7
  00B6                10     ModuleSelect1   BIT     0B0H.6
  0080                11     P0      DATA    080H
  0090                12     P1      DATA    090H
  00A0                13     P2      DATA    0A0H
  00B0                14     P3      DATA    0B0H
  00B4                15     T0      BIT     0B0H.4
  00D6                16     AC      BIT     0D0H.6
  00B5                17     T1      BIT     0B0H.5
  0090                18     T2      BIT     090H.0
  00AF                19     EA      BIT     0A8H.7
  00A8                20     IE      DATA    0A8H
  00CE                21     EXF2    BIT     0C8H.6
  00B7                22     RD      BIT     0B0H.7
  00AC                23     ES      BIT     0A8H.4
  00B8                24     IP      DATA    0B8H
  0098                25     RI      BIT     098H.0
  00B2                26     INT0    BIT     0B0H.2
  00D7                27     CY      BIT     0D0H.7
  0099                28     TI      BIT     098H.1
  00B3                29     INT1    BIT     0B0H.3
  00CB                30     RCAP2H  DATA    0CBH
  0086                31     Keyboard_key_10 BIT     080H.6
  00BC                32     PS      BIT     0B8H.4
  0081                33     SP      DATA    081H
  0085                34     Keyboard_key_11 BIT     080H.5
  0091                35     T2EX    BIT     090H.1
  0084                36     Keyboard_key_12 BIT     080H.4
  00D2                37     OV      BIT     0D0H.2
  00CA                38     RCAP2L  DATA    0CAH
  00C9                39     C_T2    BIT     0C8H.1
  00B6                40     WR      BIT     0B0H.6
  00CD                41     RCLK    BIT     0C8H.5
  0095                42     lcd_d5  BIT     090H.5
  0080                43     Buzzer_pin      BIT     080H.0
  0096                44     lcd_d6  BIT     090H.6
  00CC                45     TCLK    BIT     0C8H.4
  0099                46     SBUF    DATA    099H
  0087                47     PCON    DATA    087H
  0098                48     SCON    DATA    098H
  0089                49     TMOD    DATA    089H
  0088                50     TCON    DATA    088H
  0092                51     RS_lcd  BIT     090H.2
  0089                52     IE0     BIT     088H.1
  008B                53     IE1     BIT     088H.3
  00F0                54     B       DATA    0F0H
  00C8                55     CP_RL2  BIT     0C8H.0
  0083                56     EM_lock_pin     BIT     080H.3
  00E0                57     ACC     DATA    0E0H
A51 MACRO ASSEMBLER  GPS_NMEA                                                             11/09/2012 17:30:01 PAGE     2

  00A9                58     ET0     BIT     0A8H.1
  00AB                59     ET1     BIT     0A8H.3
  008D                60     TF0     BIT     088H.5
  00AD                61     ET2     BIT     0A8H.5
  008F                62     TF1     BIT     088H.7
  00CF                63     TF2     BIT     0C8H.7
  009A                64     RB8     BIT     098H.2
  008C                65     TH0     DATA    08CH
  00A8                66     EX0     BIT     0A8H.0
  0088                67     IT0     BIT     088H.0
  008D                68     TH1     DATA    08DH
  009B                69     TB8     BIT     098H.3
  00AA                70     EX1     BIT     0A8H.2
  008A                71     IT1     BIT     088H.2
  00CD                72     TH2     DATA    0CDH
  00D0                73     P       BIT     0D0H.0
  0094                74     lcd_d4_lsb      BIT     090H.4
  009F                75     SM0     BIT     098H.7
  008A                76     TL0     DATA    08AH
  009E                77     SM1     BIT     098H.6
  008B                78     TL1     DATA    08BH
  009D                79     SM2     BIT     098H.5
  00CC                80     TL2     DATA    0CCH
  0097                81     lcd_d7_msb      BIT     090H.7
  00B9                82     PT0     BIT     0B8H.1
  00BB                83     PT1     BIT     0B8H.3
  00D3                84     RS0     BIT     0D0H.3
  00BD                85     PT2     BIT     0B8H.5
  008C                86     TR0     BIT     088H.4
  00D4                87     RS1     BIT     0D0H.4
  008E                88     TR1     BIT     088H.6
  00CA                89     TR2     BIT     0C8H.2
  00B8                90     PX0     BIT     0B8H.0
  00BA                91     PX1     BIT     0B8H.2
  0083                92     DPH     DATA    083H
  0093                93     Enable_lcd      BIT     090H.3
  0082                94     DPL     DATA    082H
  00CB                95     EXEN2   BIT     0C8H.3
  009C                96     REN     BIT     098H.4
  00C8                97     T2CON   DATA    0C8H
  00B0                98     RXD     BIT     0B0H.0
  00B1                99     TXD     BIT     0B0H.1
  00A0               100     Keyboard_key_1  BIT     0A0H.0
  00A1               101     Keyboard_key_2  BIT     0A0H.1
  00A2               102     Keyboard_key_3  BIT     0A0H.2
  00A3               103     Keyboard_key_4  BIT     0A0H.3
  00D5               104     F0      BIT     0D0H.5
  00A4               105     Keyboard_key_5  BIT     0A0H.4
  00A5               106     Keyboard_key_6  BIT     0A0H.5
  00A6               107     Keyboard_key_7  BIT     0A0H.6
  00A7               108     Keyboard_key_8  BIT     0A0H.7
  0087               109     Keyboard_key_9  BIT     080H.7
  00D0               110     PSW     DATA    0D0H
  0082               111     EM_lock_enabe_button    BIT     080H.2
                     112     ?PR?fn_GPSPatternDetect?GPS_NMEA         SEGMENT CODE 
                     113     ?XD?fn_GPSPatternDetect?GPS_NMEA         SEGMENT XDATA OVERLAYABLE 
                     114     ?PR?fn_GETGPSCoordinates?GPS_NMEA        SEGMENT CODE 
                     115     ?PR?fn_DecodeGPS?GPS_NMEA                SEGMENT CODE 
                     116     ?PR?fnDecodeGPGGA?GPS_NMEA               SEGMENT CODE 
                     117     ?XD?fnDecodeGPGGA?GPS_NMEA               SEGMENT XDATA OVERLAYABLE 
                     118     ?PR?fnDecodeGPGSA?GPS_NMEA               SEGMENT CODE 
                     119     ?PR?fnDecodeGPGSV?GPS_NMEA               SEGMENT CODE 
                     120     ?XD?fnDecodeGPGSV?GPS_NMEA               SEGMENT XDATA OVERLAYABLE 
                     121     ?PR?fnDecodeGPRMC?GPS_NMEA               SEGMENT CODE 
                     122     ?XD?fnDecodeGPRMC?GPS_NMEA               SEGMENT XDATA OVERLAYABLE 
                     123     ?PR?fnDecodeGPVTG?GPS_NMEA               SEGMENT CODE 
A51 MACRO ASSEMBLER  GPS_NMEA                                                             11/09/2012 17:30:01 PAGE     3

                     124     ?XD?fnDecodeGPVTG?GPS_NMEA               SEGMENT XDATA OVERLAYABLE 
                     125     ?CO?GPS_NMEA         SEGMENT CODE 
                     126     ?C_INITSEG           SEGMENT CODE 
                     127     ?XD?GPS_NMEA         SEGMENT XDATA 
                     128             EXTRN   CODE (_printf)
                     129             EXTRN   XDATA (?_printf?BYTE)
                     130             EXTRN   CODE (_strncpy)
                     131             EXTRN   XDATA (?_strncpy?BYTE)
                     132             EXTRN   XDATA (uchSerialData)
                     133             EXTRN   CODE (_fnModuleSelect)
                     134             EXTRN   CODE (_atoi)
                     135             EXTRN   CODE (fn_Receive_Serial)
                     136             EXTRN   CODE (?C?STRCMP)
                     137             PUBLIC  guchLatitude
                     138             PUBLIC  guchLongitude
                     139             PUBLIC  GPSPattern
                     140             PUBLIC  NSIndicator
                     141             PUBLIC  guchCompleteDataPacket
                     142             PUBLIC  EWIndicator
                     143             PUBLIC  fnDecodeGPVTG
                     144             PUBLIC  fnDecodeGPRMC
                     145             PUBLIC  fnDecodeGPGSV
                     146             PUBLIC  fnDecodeGPGSA
                     147             PUBLIC  fnDecodeGPGGA
                     148             PUBLIC  fn_DecodeGPS
                     149             PUBLIC  fn_GETGPSCoordinates
                     150             PUBLIC  fn_GPSPatternDetect
                     151     
----                 152             RSEG  ?XD?fnDecodeGPGGA?GPS_NMEA
0000                 153     ?fnDecodeGPGGA?BYTE:
0000                 154     uchGPSQualityIndicator?342:   DS   1
0001                 155             ORG  1
0001                 156     uchNoSatellitesUsedArray?343:   DS   3
0004                 157             ORG  4
0004                 158     uchNoSatellitesUsed?344:   DS   1
0005                 159             ORG  5
0005                 160        uchCount?345:   DS   1
                     161     
----                 162             RSEG  ?XD?fnDecodeGPRMC?GPS_NMEA
0000                 163     ?fnDecodeGPRMC?BYTE:
0000                 164     uchGPSUTCTimearray?651:   DS   7
0007                 165             ORG  7
0007                 166       uchStatus?652:   DS   1
0008                 167             ORG  8
0008                 168     uchGPSLatitudearray?653:   DS   11
0013                 169             ORG  19
0013                 170     uchN_S_Indicator?654:   DS   1
0014                 171             ORG  20
0014                 172     uchGPSLongitudearray?655:   DS   11
001F                 173             ORG  31
001F                 174     uchE_W_Indicator?656:   DS   1
0020                 175             ORG  32
0020                 176     uchGPSUTCDatearray?657:   DS   7
0027                 177             ORG  39
0027                 178        uchCount?658:   DS   1
0028                 179             ORG  40
0028                 180         uchTemp?659:   DS   1
                     181     
----                 182             RSEG  ?XD?fnDecodeGPGSV?GPS_NMEA
0000                 183     ?fnDecodeGPGSV?BYTE:
0000                 184     uchGPSNoOfSatellitesInView?547:   DS   1
0001                 185             ORG  1
0001                 186     uchGPSNoOfSatellitesInViewArray?548:   DS   3
0004                 187             ORG  4
0004                 188        uchCount?549:   DS   1
                     189     
A51 MACRO ASSEMBLER  GPS_NMEA                                                             11/09/2012 17:30:01 PAGE     4

----                 190             RSEG  ?XD?fnDecodeGPVTG?GPS_NMEA
0000                 191     ?fnDecodeGPVTG?BYTE:
0000                 192     uchGPSSpeedInKnotsarray?760:   DS   6
0006                 193             ORG  6
0006                 194     uchGPSSpeedInKMPHarray?761:   DS   7
000D                 195             ORG  13
000D                 196        uchCount?762:   DS   1
                     197     
----                 198             RSEG  ?XD?fn_GPSPatternDetect?GPS_NMEA
0000                 199     ?fn_GPSPatternDetect?BYTE:
0000                 200        uchCount?040:   DS   1
0001                 201             ORG  1
0001                 202     uchPatternReceived?041:   DS   6
                     203     
----                 204             RSEG  ?XD?GPS_NMEA
0000                 205         EWIndicator:   DS   1
0001                 206     guchCompleteDataPacket:   DS   65
0042                 207         NSIndicator:   DS   1
0043                 208          GPSPattern:   DS   30
0061                 209       guchLongitude:   DS   11
006C                 210        guchLatitude:   DS   11
                     211     
----                 212             RSEG  ?CO?GPS_NMEA
0000                 213     ?SC_0:
0000 67756368        214             DB  'g' ,'u' ,'c' ,'h' ,'C' ,'o' ,'m' ,'p' ,'l' ,'e' 
0004 436F6D70                
0008 6C65                    
000A 74654461        215             DB  't' ,'e' ,'D' ,'a' ,'t' ,'a' ,'P' ,'a' ,'c' ,'k' 
000E 74615061                
0012 636B                    
0014 6574203D        216             DB  'e' ,'t' ,' ' ,'=' ,' ' ,'%' ,'s' ,00AH,000H
0018 2025730A                
001C 00                      
                     217     
001D                 218     ?SC_29:
001D 4C617469        219             DB  'L' ,'a' ,'t' ,'i' ,'t' ,'u' ,'d' ,'e' ,' ' ,'=' 
0021 74756465                
0025 203D                    
0027 25732C25        220             DB  '%' ,'s' ,',' ,'%' ,'c' ,00AH,000H
002B 630A00                  
                     221     
002E                 222     ?SC_46:
002E 4C6F6E67        223             DB  'L' ,'o' ,'n' ,'g' ,'i' ,'t' ,'u' ,'d' ,'e' ,' ' 
0032 69747564                
0036 6520                    
0038 3D25732C        224             DB  '=' ,'%' ,'s' ,',' ,'%' ,'c' ,00AH,000H
003C 25630A00                
                     225     
0040                 226     ?SC_64:
0040 4100            227             DB  'A' ,000H
                     228     
0042                 229     ?SC_66:
0042 5300            230             DB  'S' ,000H
                     231     
0044                 232     ?SC_68:
0044 5600            233             DB  'V' ,000H
                     234     
0046                 235     ?SC_70:
0046 5200            236             DB  'R' ,000H
                     237     
0048                 238     ?SC_72:
0048 4700            239             DB  'G' ,000H
                     240     
004A                 241     ?SC_74:
004A 24475047        242             DB  '$' ,'G' ,'P' ,'G' ,'G' ,'A' ,'S' ,'A' ,'T' ,'U' 
004E 47415341                
A51 MACRO ASSEMBLER  GPS_NMEA                                                             11/09/2012 17:30:01 PAGE     5

0052 5455                    
0054 7365643D        243             DB  's' ,'e' ,'d' ,'=' ,'%' ,'d' ,00AH,000H
0058 25640A00                
                     244     
                     245     
----                 246             RSEG  ?C_INITSEG
0000 5E              247             DB      05EH
0001 0000     F      248             DW      GPSPattern
0003 47504747        249             DB  'G' ,'P' ,'G' ,'G' ,'A' ,000H
0007 4100                    
                     250     
0009 47504753        251             DB  'G' ,'P' ,'G' ,'S' ,'A' ,000H
000D 4100                    
                     252     
000F 47504753        253             DB  'G' ,'P' ,'G' ,'S' ,'V' ,000H
0013 5600                    
                     254     
0015 4750524D        255             DB  'G' ,'P' ,'R' ,'M' ,'C' ,000H
0019 4300                    
                     256     
001B 47505654        257             DB  'G' ,'P' ,'V' ,'T' ,'G' ,000H
001F 4700                    
                     258     
                     259     
                     260     ; /*
                     261     ;     filename  :serial_codes.c
                     262     ;       description     :transmit and receive data by serial port
                     263     ;       author          :apsis_team
                     264     ;       date            :11.08.07
                     265     ; 
                     266     ; 
                     267     ; */
                     268     ; 
                     269     ; 
                     270     ; #include <reg52.h>
                     271     ; #include <stdio.h>                /* prototype declarations for I/O functions */
                     272     ; #include <string.h>
                     273     ; #include <stdlib.h>
                     274     ; 
                     275     ; #include "PinAllocation.h"
                     276     ; #include "delay.h"
                     277     ; #include "serial_codes.h"
                     278     ; #include "GPS_NMEA.h"
                     279     ; #include "ProjectMain.h"
                     280     ; 
                     281     ; extern unsigned char uchSerialData;
                     282     ; unsigned char guchCompleteDataPacket[65];
                     283     ; 
                     284     ; unsigned char guchLatitude[11];
                     285     ; unsigned char NSIndicator;
                     286     ; unsigned char guchLongitude[11];
                     287     ; unsigned char EWIndicator;
                     288     ; 
                     289     ; #define GPSQualityIndicatorPOSITIONINPACKET   0
                     290     ; #define NoSatellitesUsedPOSITIONINPACKET              1
                     291     ; #define GPSNoOfSatellitesInViewPOSITIONINPACKET 3
                     292     ; #define GPSUTCTimePOSITIONINPACKET                            28
                     293     ; #define GPSStatusPOSITIONINPACKET                             5
                     294     ; #define GPSLatitudePOSITIONINPACKET                   6
                     295     ; #define GPSN_SPOSITIONINPACKET                                        16
                     296     ; #define GPSLongitudePOSITIONINPACKET                  17
                     297     ; #define GPSE_WPOSITIONINPACKET                                        27
                     298     ; #define GPSUTCDatePOSITIONINPACKET                            34
                     299     ; #define GPSSpeedInKnotsPOSITIONINPACKET               40
                     300     ; #define GPSSpeedInKMPHPOSITIONINPACKET                        45
                     301     ; #define GPSModePOSITIONINPACKET                               51
A51 MACRO ASSEMBLER  GPS_NMEA                                                             11/09/2012 17:30:01 PAGE     6

                     302     ; 
                     303     ; 
                     304     ; 
                     305     ; #define GPGGAGPSQUALITYINDICATORFIELD                 6
                     306     ; #define GPGGANOOFSATELLITESUSEDFIELD                  7
                     307     ; #define GPGSVNOOFSATELLITESINVIEWFIELD                3
                     308     ; #define GPVTGSPEEDINKNOTSFIELD                                3
                     309     ; #define GPVTGSPEEDINKMPHFIELD                         4
                     310     ; #define GPRMCUTCTIMEFIELD                                     1
                     311     ; #define GPRMCSTATUSFIELD                                      2
                     312     ; #define GPRMCLATITUDEFIELD                                    3
                     313     ; #define GPRMCNSINDICATORFIELD                         4
                     314     ; #define GPRMCLONGITUDEFIELD                                   5
                     315     ; #define GPRMCEWINDICATORFIELD                         6
                     316     ; #define GPRMCUTCDATEFIELD                                     9
                     317     ; 
                     318     ; 
                     319     ; 
                     320     ; #define LENGTHOFGPSPATTERN 6
                     321     ; #define NOOFGPSPATTERN 5
                     322     ; #define GPGGA         1
                     323     ; #define GPGSA         2
                     324     ; #define GPGSV         3
                     325     ; #define GPRMC         4
                     326     ; #define GPVTG         5
                     327     ; char GPSPattern[NOOFGPSPATTERN][LENGTHOFGPSPATTERN] = 
                     328     ;                                       {
                     329     ;                                               "GPGGA", // Pattern 0 LATITUDE AND LONGITUD
                             E, WITH TIME OF POSITION FIX AND STATUS
                     330     ;                                               "GPGSA", // Pattern 1 GPS DOP AND ACTIVE SA
                             TELLITES
                     331     ;                                               "GPGSV", // Pattern 2 GPS SATELLITE IN VIEW
                     332     ;                                               "GPRMC", // Pattern 3 RECOMMENDED MINIMUM S
                             PECIFIC GPS/TRANSIT DATA
                     333     ;                                               "GPVTG"  // Pattern 4 COURSE OVER GROUND AN
                             D GROUND SPEED
                     334     ;                                       };
                     335     ; 
                     336     ; 
                     337     ; 
                     338     ; unsigned char fn_GPSPatternDetect(void)
                     339     
----                 340             RSEG  ?PR?fn_GPSPatternDetect?GPS_NMEA
0000                 341     fn_GPSPatternDetect:
                     342             USING   0
                     343                             ; SOURCE LINE # 79
                     344     ; {
                     345                             ; SOURCE LINE # 80
                     346     ;       unsigned char uchCount=0;
                     347                             ; SOURCE LINE # 81
0000 E4              348             CLR     A
0001 900000   F      349             MOV     DPTR,#uchCount?040
0004 F0              350             MOVX    @DPTR,A
                     351     ;       unsigned char uchPatternReceived[6];
                     352     ; 
                     353     ;       for(uchCount=0; uchCount<GPSPatternLength;uchCount++)
                     354                             ; SOURCE LINE # 84
0005 F0              355             MOVX    @DPTR,A
0006                 356     ?C0001:
                     357     ;       {
                     358                             ; SOURCE LINE # 85
                     359     ;               uchPatternReceived[uchCount]= fn_Receive_Serial();
                     360                             ; SOURCE LINE # 86
0006 120000   F      361             LCALL   fn_Receive_Serial
0009 900000   F      362             MOV     DPTR,#uchCount?040
000C E0              363             MOVX    A,@DPTR
A51 MACRO ASSEMBLER  GPS_NMEA                                                             11/09/2012 17:30:01 PAGE     7

000D 2400     F      364             ADD     A,#LOW (uchPatternReceived?041)
000F F582            365             MOV     DPL,A
0011 E4              366             CLR     A
0012 3400     F      367             ADDC    A,#HIGH (uchPatternReceived?041)
0014 F583            368             MOV     DPH,A
0016 EF              369             MOV     A,R7
0017 F0              370             MOVX    @DPTR,A
                     371     ;       }
                     372                             ; SOURCE LINE # 87
0018 900000   F      373             MOV     DPTR,#uchCount?040
001B E0              374             MOVX    A,@DPTR
001C 04              375             INC     A
001D F0              376             MOVX    @DPTR,A
001E E0              377             MOVX    A,@DPTR
001F C3              378             CLR     C
0020 9405            379             SUBB    A,#05H
0022 40E2            380             JC      ?C0001
0024                 381     ?C0002:
                     382     ;       uchPatternReceived[uchCount]= 0;
                     383                             ; SOURCE LINE # 88
0024 900000   F      384             MOV     DPTR,#uchCount?040
0027 E0              385             MOVX    A,@DPTR
0028 2400     F      386             ADD     A,#LOW (uchPatternReceived?041)
002A F582            387             MOV     DPL,A
002C E4              388             CLR     A
002D 3400     F      389             ADDC    A,#HIGH (uchPatternReceived?041)
002F F583            390             MOV     DPH,A
0031 E4              391             CLR     A
0032 F0              392             MOVX    @DPTR,A
                     393     ; 
                     394     ;       for (uchCount=0; uchCount < NOOFGPSPATTERN;uchCount++)
                     395                             ; SOURCE LINE # 90
0033 900000   F      396             MOV     DPTR,#uchCount?040
0036 F0              397             MOVX    @DPTR,A
0037                 398     ?C0004:
0037 900000   F      399             MOV     DPTR,#uchCount?040
003A E0              400             MOVX    A,@DPTR
003B FF              401             MOV     R7,A
003C C3              402             CLR     C
003D 9405            403             SUBB    A,#05H
003F 502A            404             JNC     ?C0005
                     405     ;       {
                     406                             ; SOURCE LINE # 91
                     407     ;               if (!strcmp(uchPatternReceived, GPSPattern[uchCount]))
                     408                             ; SOURCE LINE # 92
0041 EF              409             MOV     A,R7
0042 75F006          410             MOV     B,#06H
0045 A4              411             MUL     AB
0046 2400     F      412             ADD     A,#LOW (GPSPattern)
0048 F9              413             MOV     R1,A
0049 7400     F      414             MOV     A,#HIGH (GPSPattern)
004B 35F0            415             ADDC    A,B
004D FA              416             MOV     R2,A
004E 7B01            417             MOV     R3,#01H
0050 7800     F      418             MOV     R0,#LOW (uchPatternReceived?041)
0052 7C00     F      419             MOV     R4,#HIGH (uchPatternReceived?041)
0054 7D01            420             MOV     R5,#01H
0056 120000   F      421             LCALL   ?C?STRCMP
0059 EF              422             MOV     A,R7
005A 7007            423             JNZ     ?C0006
                     424     ;                       return (uchCount+1);
                     425                             ; SOURCE LINE # 93
005C 900000   F      426             MOV     DPTR,#uchCount?040
005F E0              427             MOVX    A,@DPTR
0060 04              428             INC     A
0061 FF              429             MOV     R7,A
A51 MACRO ASSEMBLER  GPS_NMEA                                                             11/09/2012 17:30:01 PAGE     8

0062 22              430             RET     
                     431     ;                       
                     432     ;       }
                     433                             ; SOURCE LINE # 95
0063                 434     ?C0006:
0063 900000   F      435             MOV     DPTR,#uchCount?040
0066 E0              436             MOVX    A,@DPTR
0067 04              437             INC     A
0068 F0              438             MOVX    @DPTR,A
0069 80CC            439             SJMP    ?C0004
006B                 440     ?C0005:
                     441     ;       return 20;
                     442                             ; SOURCE LINE # 96
006B 7F14            443             MOV     R7,#014H
                     444     ; }
                     445                             ; SOURCE LINE # 97
006D                 446     ?C0008:
006D 22              447             RET     
                     448     ; END OF fn_GPSPatternDetect
                     449     
                     450     ; /*
                     451     ; The GPS locations are in minutes and seconds while google maps uses degrees. 
                     452     ; for example,
                     453     ; S 40°48.452' 
                     454     ; E 147°37.843' 
                     455     ; In google map it should be: 
                     456     ; -(40 + 48.452/60) = -40.8075 
                     457     ; 147 + 37.843/60 = 147.6307 
                     458     ; 
                     459     ; N 17°18.3806' 
                     460     ; E 78°44.6059'
                     461     ; College in Hyd
                     462     ; In google map it should be: 
                     463     ; 17 + 18.3806/60 = 17.3063 
                     464     ; 78 + 44.6059/60 = 78.7434 
                     465     ; */
                     466     ; void fn_GETGPSCoordinates(void)
                     467     
----                 468             RSEG  ?PR?fn_GETGPSCoordinates?GPS_NMEA
0000                 469     fn_GETGPSCoordinates:
                     470             USING   0
                     471                             ; SOURCE LINE # 114
                     472     ; {
                     473                             ; SOURCE LINE # 115
                     474     ;       fnModuleSelect(SELECT_GPS_ON_UART);
                     475                             ; SOURCE LINE # 116
0000 7F02            476             MOV     R7,#02H
0002 120000   F      477             LCALL   _fnModuleSelect
                     478     ;       fn_DecodeGPS();
                     479                             ; SOURCE LINE # 117
0005 120000   F      480             LCALL   fn_DecodeGPS
                     481     ;       fn_DecodeGPS();
                     482                             ; SOURCE LINE # 118
0008 120000   F      483             LCALL   fn_DecodeGPS
                     484     ;       fn_DecodeGPS();
                     485                             ; SOURCE LINE # 119
000B 120000   F      486             LCALL   fn_DecodeGPS
                     487     ;       fn_DecodeGPS();
                     488                             ; SOURCE LINE # 120
000E 120000   F      489             LCALL   fn_DecodeGPS
                     490     ;       fn_DecodeGPS();
                     491                             ; SOURCE LINE # 121
0011 120000   F      492             LCALL   fn_DecodeGPS
                     493     ;       fn_DecodeGPS();
                     494                             ; SOURCE LINE # 122
0014 120000   F      495             LCALL   fn_DecodeGPS
A51 MACRO ASSEMBLER  GPS_NMEA                                                             11/09/2012 17:30:01 PAGE     9

                     496     ;       fn_DecodeGPS();
                     497                             ; SOURCE LINE # 123
0017 120000   F      498             LCALL   fn_DecodeGPS
                     499     ;       fn_DecodeGPS();
                     500                             ; SOURCE LINE # 124
001A 120000   F      501             LCALL   fn_DecodeGPS
                     502     ;       GPSDBGPRINTF("guchCompleteDataPacket = %s\n",guchCompleteDataPacket);
                     503                             ; SOURCE LINE # 125
                     504     ;       GPSDBGPRINTF("Latitude =%s,%c\n",guchLatitude,NSIndicator);
                     505                             ; SOURCE LINE # 126
                     506     ;       GPSDBGPRINTF("Longitude =%s,%c\n",guchLongitude,EWIndicator);
                     507                             ; SOURCE LINE # 127
                     508     ; 
                     509     ; 
                     510     ; }
                     511                             ; SOURCE LINE # 130
001D                 512     ?C0012:
001D 22              513             RET     
                     514     ; END OF fn_GETGPSCoordinates
                     515     
                     516     ; 
                     517     ; 
                     518     ; void fn_DecodeGPS(void)
                     519     
----                 520             RSEG  ?PR?fn_DecodeGPS?GPS_NMEA
0000                 521     fn_DecodeGPS:
                     522             USING   0
                     523                             ; SOURCE LINE # 133
                     524     ; {
                     525                             ; SOURCE LINE # 134
0000                 526     ?C0013:
                     527     ; 
                     528     ;       while((fn_Receive_Serial())!='$');  // Waiting for '$' Symbol to appear from the GP
                             S
                     529                             ; SOURCE LINE # 136
0000 120000   F      530             LCALL   fn_Receive_Serial
0003 BF24FA          531             CJNE    R7,#024H,?C0013
0006                 532     ?C0014:
                     533     ; 
                     534     ;       uchSerialData = fn_GPSPatternDetect();
                     535                             ; SOURCE LINE # 138
0006 120000   F      536             LCALL   fn_GPSPatternDetect
0009 900000   F      537             MOV     DPTR,#uchSerialData
000C EF              538             MOV     A,R7
000D F0              539             MOVX    @DPTR,A
                     540     ; 
                     541     ;       switch(uchSerialData)
                     542                             ; SOURCE LINE # 140
000E 24FE            543             ADD     A,#0FEH
0010 6010            544             JZ      ?C0018
0012 14              545             DEC     A
0013 6010            546             JZ      ?C0020
0015 14              547             DEC     A
0016 6010            548             JZ      ?C0022
0018 14              549             DEC     A
0019 6010            550             JZ      ?C0024
001B 2404            551             ADD     A,#04H
001D 700F            552             JNZ     ?C0028
                     553     ;       {
                     554                             ; SOURCE LINE # 141
                     555     ;               case GPGGA:
                     556                             ; SOURCE LINE # 142
001F                 557     ?C0016:
                     558     ;                                       fnDecodeGPGGA();
                     559                             ; SOURCE LINE # 143
001F 020000   F      560             LJMP    fnDecodeGPGGA
A51 MACRO ASSEMBLER  GPS_NMEA                                                             11/09/2012 17:30:01 PAGE    10

                     561     ;                                       GPSDBGPRINTF("A");
                     562                             ; SOURCE LINE # 144
                     563     ;                                       break;
                     564                             ; SOURCE LINE # 145
                     565     ;               case GPGSA:
                     566                             ; SOURCE LINE # 146
0022                 567     ?C0018:
                     568     ;                                       fnDecodeGPGSA();
                     569                             ; SOURCE LINE # 147
0022 020000   F      570             LJMP    fnDecodeGPGSA
                     571     ;                                       GPSDBGPRINTF("S");
                     572                             ; SOURCE LINE # 148
                     573     ;                                       break;
                     574                             ; SOURCE LINE # 149
                     575     ;               case GPGSV:
                     576                             ; SOURCE LINE # 150
0025                 577     ?C0020:
                     578     ;                                       fnDecodeGPGSV();
                     579                             ; SOURCE LINE # 151
0025 020000   F      580             LJMP    fnDecodeGPGSV
                     581     ;                                       GPSDBGPRINTF("V");
                     582                             ; SOURCE LINE # 152
                     583     ;                                       break;
                     584                             ; SOURCE LINE # 153
                     585     ;               case GPRMC:
                     586                             ; SOURCE LINE # 154
0028                 587     ?C0022:
                     588     ;                                       fnDecodeGPRMC();
                     589                             ; SOURCE LINE # 155
0028 020000   F      590             LJMP    fnDecodeGPRMC
                     591     ;                                       GPSDBGPRINTF("R");
                     592                             ; SOURCE LINE # 156
                     593     ;                                       break;
                     594                             ; SOURCE LINE # 157
                     595     ;               case GPVTG:
                     596                             ; SOURCE LINE # 158
002B                 597     ?C0024:
                     598     ;                                       fnDecodeGPVTG();
                     599                             ; SOURCE LINE # 159
002B 120000   F      600             LCALL   fnDecodeGPVTG
                     601     ;                                       GPSDBGPRINTF("guchCompleteDataPacket = %s\n",guchCo
                             mpleteDataPacket);
                     602                             ; SOURCE LINE # 160
                     603     ;                                       GPSDBGPRINTF("G");
                     604                             ; SOURCE LINE # 161
                     605     ;                                       break;
                     606                             ; SOURCE LINE # 162
                     607     ;               default:
                     608                             ; SOURCE LINE # 163
                     609     ;                                       break;
                     610                             ; SOURCE LINE # 164
                     611     ;       }
                     612                             ; SOURCE LINE # 165
                     613     ; }
                     614                             ; SOURCE LINE # 166
002E                 615     ?C0028:
002E 22              616             RET     
                     617     ; END OF fn_DecodeGPS
                     618     
                     619     ; 
                     620     ; 
                     621     ; 
                     622     ; 
                     623     ; void fnDecodeGPGGA(void) //9.1 GGA-GLOBAL POSITIONING SYSTEM FIX DATA
                     624     
----                 625             RSEG  ?PR?fnDecodeGPGGA?GPS_NMEA
A51 MACRO ASSEMBLER  GPS_NMEA                                                             11/09/2012 17:30:01 PAGE    11

0000                 626     fnDecodeGPGGA:
                     627             USING   0
                     628                             ; SOURCE LINE # 171
                     629     ; // From here we will pick GPS Quality Indicator (Field 6)
                     630     ; // No of satellites used (Field 7)
                     631     ; {
                     632                             ; SOURCE LINE # 174
                     633     ;       unsigned char uchGPSQualityIndicator;
                     634     ;       unsigned char uchNoSatellitesUsedArray[3];
                     635     ;       unsigned char uchNoSatellitesUsed;
                     636     ;       unsigned char uchCount=0;
                     637                             ; SOURCE LINE # 178
0000 E4              638             CLR     A
0001 900000   F      639             MOV     DPTR,#uchCount?345
0004 F0              640             MOVX    @DPTR,A
                     641     ;       unsigned char uchTemp;
                     642     ;       uchNoSatellitesUsedArray[0] = '0';
                     643                             ; SOURCE LINE # 180
0005 900000   F      644             MOV     DPTR,#uchNoSatellitesUsedArray?343
0008 7430            645             MOV     A,#030H
000A F0              646             MOVX    @DPTR,A
                     647     ;       uchNoSatellitesUsedArray[1] = '0';
                     648                             ; SOURCE LINE # 181
000B A3              649             INC     DPTR
000C F0              650             MOVX    @DPTR,A
                     651     ;       uchNoSatellitesUsedArray[2] = 0;
                     652                             ; SOURCE LINE # 182
000D E4              653             CLR     A
000E A3              654             INC     DPTR
000F F0              655             MOVX    @DPTR,A
                     656     ; 
                     657     ; 
                     658     ;       for (uchCount=0; uchCount < GPGGAGPSQUALITYINDICATORFIELD;uchCount++)
                     659                             ; SOURCE LINE # 185
0010 900000   F      660             MOV     DPTR,#uchCount?345
0013 F0              661             MOVX    @DPTR,A
0014                 662     ?C0029:
0014                 663     ?C0032:
                     664     ;               while((fn_Receive_Serial())!=',');  // Waiting for ',' Symbol to appear fro
                             m the GPS
                     665                             ; SOURCE LINE # 186
0014 120000   F      666             LCALL   fn_Receive_Serial
0017 BF2CFA          667             CJNE    R7,#02CH,?C0032
001A                 668     ?C0033:
001A                 669     ?C0031:
001A 900000   F      670             MOV     DPTR,#uchCount?345
001D E0              671             MOVX    A,@DPTR
001E 04              672             INC     A
001F F0              673             MOVX    @DPTR,A
0020 E0              674             MOVX    A,@DPTR
0021 C3              675             CLR     C
0022 9406            676             SUBB    A,#06H
0024 40EE            677             JC      ?C0029
0026                 678     ?C0030:
                     679     ;       uchGPSQualityIndicator = fn_Receive_Serial();
                     680                             ; SOURCE LINE # 187
0026 120000   F      681             LCALL   fn_Receive_Serial
0029 900000   F      682             MOV     DPTR,#uchGPSQualityIndicator?342
002C EF              683             MOV     A,R7
002D F0              684             MOVX    @DPTR,A
                     685     ;       //DBGPRINTF("uchGPSQualityIndicator = %c\n",uchGPSQualityIndicator);
                     686     ;       uchCount=0;
                     687                             ; SOURCE LINE # 189
002E E4              688             CLR     A
002F 900000   F      689             MOV     DPTR,#uchCount?345
0032 F0              690             MOVX    @DPTR,A
A51 MACRO ASSEMBLER  GPS_NMEA                                                             11/09/2012 17:30:01 PAGE    12

                     691     ;       uchTemp = fn_Receive_Serial(); // To take care of the ',' symbol 
                     692                             ; SOURCE LINE # 190
0033 120000   F      693             LCALL   fn_Receive_Serial
                     694     ;---- Variable 'uchTemp?346' assigned to Register 'R7' ----
                     695     ;       uchTemp = fn_Receive_Serial();
                     696                             ; SOURCE LINE # 191
0036 801A            697             SJMP    ?C0084
0038                 698     ?C0034:
                     699     ;       while(uchTemp!=',')  // Fill No of satellites till ',' Symbol appears
                     700                             ; SOURCE LINE # 192
0038 EF              701             MOV     A,R7
0039 642C            702             XRL     A,#02CH
003B 601A            703             JZ      ?C0035
                     704     ;       {
                     705                             ; SOURCE LINE # 193
                     706     ;               uchNoSatellitesUsedArray[uchCount] = uchTemp;   
                     707                             ; SOURCE LINE # 194
003D 900000   F      708             MOV     DPTR,#uchCount?345
0040 E0              709             MOVX    A,@DPTR
0041 2400     F      710             ADD     A,#LOW (uchNoSatellitesUsedArray?343)
0043 F582            711             MOV     DPL,A
0045 E4              712             CLR     A
0046 3400     F      713             ADDC    A,#HIGH (uchNoSatellitesUsedArray?343)
0048 F583            714             MOV     DPH,A
004A EF              715             MOV     A,R7
004B F0              716             MOVX    @DPTR,A
                     717     ;               uchCount++;
                     718                             ; SOURCE LINE # 195
004C 900000   F      719             MOV     DPTR,#uchCount?345
004F E0              720             MOVX    A,@DPTR
0050 04              721             INC     A
0051 F0              722             MOVX    @DPTR,A
                     723     ;               uchTemp = fn_Receive_Serial();
                     724                             ; SOURCE LINE # 196
0052                 725     ?C0084:
0052 120000   F      726             LCALL   fn_Receive_Serial
                     727     ;       }
                     728                             ; SOURCE LINE # 197
0055 80E1            729             SJMP    ?C0034
0057                 730     ?C0035:
                     731     ;       
                     732     ;       //DBGPRINTF("$GPGGA uchGPSQualityIndicator = %c\n",uchGPSQualityIndicator);
                     733     ;       uchNoSatellitesUsed = (char)atoi(uchNoSatellitesUsedArray);
                     734                             ; SOURCE LINE # 200
0057 7B01            735             MOV     R3,#01H
0059 7A00     F      736             MOV     R2,#HIGH (uchNoSatellitesUsedArray?343)
005B 7900     F      737             MOV     R1,#LOW (uchNoSatellitesUsedArray?343)
005D 120000   F      738             LCALL   _atoi
0060 900000   F      739             MOV     DPTR,#uchNoSatellitesUsed?344
0063 EF              740             MOV     A,R7
0064 F0              741             MOVX    @DPTR,A
                     742     ;       GPSDBGPRINTF("$GPGGASATUsed=%d\n",(int)uchNoSatellitesUsed);
                     743                             ; SOURCE LINE # 201
0065                 744     ?C0036:
                     745     ;       
                     746     ;       guchCompleteDataPacket[GPSQualityIndicatorPOSITIONINPACKET]= uchGPSQualityIndicator
                             ;
                     747                             ; SOURCE LINE # 203
0065 900000   F      748             MOV     DPTR,#uchGPSQualityIndicator?342
0068 E0              749             MOVX    A,@DPTR
0069 900000   F      750             MOV     DPTR,#guchCompleteDataPacket
006C F0              751             MOVX    @DPTR,A
                     752     ;       strncpy(&guchCompleteDataPacket[NoSatellitesUsedPOSITIONINPACKET],uchNoSatellitesUs
                             edArray, 2);
                     753                             ; SOURCE LINE # 204
006D 900000   F      754             MOV     DPTR,#?_strncpy?BYTE+03H
A51 MACRO ASSEMBLER  GPS_NMEA                                                             11/09/2012 17:30:01 PAGE    13

0070 7401            755             MOV     A,#01H
0072 F0              756             MOVX    @DPTR,A
0073 A3              757             INC     DPTR
0074 7400     F      758             MOV     A,#HIGH (uchNoSatellitesUsedArray?343)
0076 F0              759             MOVX    @DPTR,A
0077 A3              760             INC     DPTR
0078 7400     F      761             MOV     A,#LOW (uchNoSatellitesUsedArray?343)
007A F0              762             MOVX    @DPTR,A
007B A3              763             INC     DPTR
007C E4              764             CLR     A
007D F0              765             MOVX    @DPTR,A
007E A3              766             INC     DPTR
007F 7402            767             MOV     A,#02H
0081 F0              768             MOVX    @DPTR,A
0082 7B01            769             MOV     R3,#01H
0084 7A00     F      770             MOV     R2,#HIGH (guchCompleteDataPacket+01H)
0086 7900     F      771             MOV     R1,#LOW (guchCompleteDataPacket+01H)
0088 020000   F      772             LJMP    _strncpy
                     773     ; END OF fnDecodeGPGGA
                     774     
                     775     ;       //DBGPRINTF("guchCompleteDataPacket = %s\n",guchCompleteDataPacket);
                     776     ; 
                     777     ;       
                     778     ; }
                     779     ; void fnDecodeGPGSA(void) //9.3 GSA - GPS DOP AND ACTIVE SATELLITES
                     780     
----                 781             RSEG  ?PR?fnDecodeGPGSA?GPS_NMEA
0000                 782     fnDecodeGPGSA:
                     783                             ; SOURCE LINE # 209
                     784     ; {
                     785                             ; SOURCE LINE # 210
                     786     ;       // Nothing to pick now
                     787     ; }
                     788                             ; SOURCE LINE # 212
0000 22              789             RET     
                     790     ; END OF fnDecodeGPGSA
                     791     
                     792     ; void fnDecodeGPGSV(void) //9.4 GSV - GPS SATELLITE IN VIEW
                     793     
----                 794             RSEG  ?PR?fnDecodeGPGSV?GPS_NMEA
0000                 795     fnDecodeGPGSV:
                     796             USING   0
                     797                             ; SOURCE LINE # 213
                     798     ; {
                     799                             ; SOURCE LINE # 214
                     800     ;       unsigned char uchGPSNoOfSatellitesInView; 
                     801     ;       unsigned char uchGPSNoOfSatellitesInViewArray[3];
                     802     ;       unsigned char uchCount=0;
                     803                             ; SOURCE LINE # 217
0000 E4              804             CLR     A
0001 900000   F      805             MOV     DPTR,#uchCount?549
0004 F0              806             MOVX    @DPTR,A
                     807     ;       unsigned char uchTemp;
                     808     ; 
                     809     ;       uchGPSNoOfSatellitesInViewArray[0] = '0';
                     810                             ; SOURCE LINE # 220
0005 900000   F      811             MOV     DPTR,#uchGPSNoOfSatellitesInViewArray?548
0008 7430            812             MOV     A,#030H
000A F0              813             MOVX    @DPTR,A
                     814     ;       uchGPSNoOfSatellitesInViewArray[1] = '0';
                     815                             ; SOURCE LINE # 221
000B A3              816             INC     DPTR
000C F0              817             MOVX    @DPTR,A
                     818     ;       uchGPSNoOfSatellitesInViewArray[2] = 0;
                     819                             ; SOURCE LINE # 222
000D E4              820             CLR     A
A51 MACRO ASSEMBLER  GPS_NMEA                                                             11/09/2012 17:30:01 PAGE    14

000E A3              821             INC     DPTR
000F F0              822             MOVX    @DPTR,A
                     823     ; 
                     824     ;       for (uchCount=0; uchCount < GPGSVNOOFSATELLITESINVIEWFIELD;uchCount++)
                     825                             ; SOURCE LINE # 224
0010 A3              826             INC     DPTR
0011 F0              827             MOVX    @DPTR,A
0012                 828     ?C0039:
0012                 829     ?C0042:
                     830     ;               while((fn_Receive_Serial())!=',');  // Waiting for ',' Symbol to appear fro
                             m the GPS
                     831                             ; SOURCE LINE # 225
0012 120000   F      832             LCALL   fn_Receive_Serial
0015 BF2CFA          833             CJNE    R7,#02CH,?C0042
0018                 834     ?C0043:
0018                 835     ?C0041:
0018 900000   F      836             MOV     DPTR,#uchCount?549
001B E0              837             MOVX    A,@DPTR
001C 04              838             INC     A
001D F0              839             MOVX    @DPTR,A
001E E0              840             MOVX    A,@DPTR
001F C3              841             CLR     C
0020 9403            842             SUBB    A,#03H
0022 40EE            843             JC      ?C0039
0024                 844     ?C0040:
                     845     ;       uchCount=0;
                     846                             ; SOURCE LINE # 226
0024 E4              847             CLR     A
0025 900000   F      848             MOV     DPTR,#uchCount?549
                     849     ;       uchTemp = fn_Receive_Serial();  
                     850                             ; SOURCE LINE # 227
                     851     ;---- Variable 'uchTemp?550' assigned to Register 'R7' ----
0028 8019            852             SJMP    ?C0085
002A                 853     ?C0044:
                     854     ;       while(uchTemp!=',')  // Fill No of satellites till ',' Symbol appears
                     855                             ; SOURCE LINE # 228
002A EF              856             MOV     A,R7
002B 642C            857             XRL     A,#02CH
002D 601A            858             JZ      ?C0045
                     859     ;       {
                     860                             ; SOURCE LINE # 229
                     861     ;               uchGPSNoOfSatellitesInViewArray[uchCount] = uchTemp;
                     862                             ; SOURCE LINE # 230
002F 900000   F      863             MOV     DPTR,#uchCount?549
0032 E0              864             MOVX    A,@DPTR
0033 2400     F      865             ADD     A,#LOW (uchGPSNoOfSatellitesInViewArray?548)
0035 F582            866             MOV     DPL,A
0037 E4              867             CLR     A
0038 3400     F      868             ADDC    A,#HIGH (uchGPSNoOfSatellitesInViewArray?548)
003A F583            869             MOV     DPH,A
003C EF              870             MOV     A,R7
003D F0              871             MOVX    @DPTR,A
                     872     ;               uchCount++;
                     873                             ; SOURCE LINE # 231
003E 900000   F      874             MOV     DPTR,#uchCount?549
0041 E0              875             MOVX    A,@DPTR
0042 04              876             INC     A
0043                 877     ?C0085:
0043 F0              878             MOVX    @DPTR,A
                     879     ;               uchTemp = fn_Receive_Serial();  
                     880                             ; SOURCE LINE # 232
0044 120000   F      881             LCALL   fn_Receive_Serial
                     882     ;       }
                     883                             ; SOURCE LINE # 233
0047 80E1            884             SJMP    ?C0044
0049                 885     ?C0045:
A51 MACRO ASSEMBLER  GPS_NMEA                                                             11/09/2012 17:30:01 PAGE    15

                     886     ;       uchGPSNoOfSatellitesInViewArray[2] = 0;
                     887                             ; SOURCE LINE # 234
0049 E4              888             CLR     A
004A 900000   F      889             MOV     DPTR,#uchGPSNoOfSatellitesInViewArray?548+02H
004D F0              890             MOVX    @DPTR,A
                     891     ;       uchGPSNoOfSatellitesInView = (char)atoi(uchGPSNoOfSatellitesInViewArray);
                     892                             ; SOURCE LINE # 235
004E 7B01            893             MOV     R3,#01H
0050 7A00     F      894             MOV     R2,#HIGH (uchGPSNoOfSatellitesInViewArray?548)
0052 7900     F      895             MOV     R1,#LOW (uchGPSNoOfSatellitesInViewArray?548)
0054 120000   F      896             LCALL   _atoi
0057 900000   F      897             MOV     DPTR,#uchGPSNoOfSatellitesInView?547
005A EF              898             MOV     A,R7
005B F0              899             MOVX    @DPTR,A
                     900     ;       //uchGPSNoOfSatellitesInView = (char)atoi(uchGPSNoOfSatellitesInViewArray);
                     901     ;       //DBGPRINTF("$GPGSV uchGPSNoOfSatellitesInView = %d\n",(int)uchGPSNoOfSatellitesInV
                             iew);
                     902     ;       //DBGPRINTF("$GPGSV uchGPSNoOfSatellitesInViewArray = %s\n",uchGPSNoOfSatellitesInV
                             iewArray);
                     903     ; 
                     904     ; 
                     905     ;       strncpy(&guchCompleteDataPacket[GPSNoOfSatellitesInViewPOSITIONINPACKET],uchGPSNoOf
                             SatellitesInViewArray, 2);
                     906                             ; SOURCE LINE # 241
005C 900000   F      907             MOV     DPTR,#?_strncpy?BYTE+03H
005F 7401            908             MOV     A,#01H
0061 F0              909             MOVX    @DPTR,A
0062 A3              910             INC     DPTR
0063 7400     F      911             MOV     A,#HIGH (uchGPSNoOfSatellitesInViewArray?548)
0065 F0              912             MOVX    @DPTR,A
0066 A3              913             INC     DPTR
0067 7400     F      914             MOV     A,#LOW (uchGPSNoOfSatellitesInViewArray?548)
0069 F0              915             MOVX    @DPTR,A
006A A3              916             INC     DPTR
006B E4              917             CLR     A
006C F0              918             MOVX    @DPTR,A
006D A3              919             INC     DPTR
006E 7402            920             MOV     A,#02H
0070 F0              921             MOVX    @DPTR,A
0071 7B01            922             MOV     R3,#01H
0073 7A00     F      923             MOV     R2,#HIGH (guchCompleteDataPacket+03H)
0075 7900     F      924             MOV     R1,#LOW (guchCompleteDataPacket+03H)
0077 020000   F      925             LJMP    _strncpy
                     926     ; END OF fnDecodeGPGSV
                     927     
                     928     ;       //DBGPRINTF("guchCompleteDataPacket = %s\n",guchCompleteDataPacket);
                     929     ; }
                     930     ; void fnDecodeGPRMC(void) //9.5 RMC - RECOMMANDED MINIMUM SPECIFIC GPS/TRANSIT DATA
                     931     
----                 932             RSEG  ?PR?fnDecodeGPRMC?GPS_NMEA
0000                 933     fnDecodeGPRMC:
                     934             USING   0
                     935                             ; SOURCE LINE # 244
                     936     ; //Time, date, position, course and speed data provided by a GNSS navigation receiver.
                     937     ; {
                     938                             ; SOURCE LINE # 246
                     939     ;       unsigned char uchGPSUTCTimearray[7]; 
                     940     ;       unsigned char uchStatus=0;
                     941                             ; SOURCE LINE # 248
0000 E4              942             CLR     A
0001 900000   F      943             MOV     DPTR,#uchStatus?652
0004 F0              944             MOVX    @DPTR,A
                     945     ;       unsigned char uchGPSLatitudearray[11];
                     946     ;       unsigned char uchN_S_Indicator=0;
                     947                             ; SOURCE LINE # 250
0005 900000   F      948             MOV     DPTR,#uchN_S_Indicator?654
A51 MACRO ASSEMBLER  GPS_NMEA                                                             11/09/2012 17:30:01 PAGE    16

0008 F0              949             MOVX    @DPTR,A
                     950     ;       unsigned char uchGPSLongitudearray[11];
                     951     ;       unsigned char uchE_W_Indicator=0;
                     952                             ; SOURCE LINE # 252
0009 900000   F      953             MOV     DPTR,#uchE_W_Indicator?656
000C F0              954             MOVX    @DPTR,A
                     955     ;       unsigned char uchGPSUTCDatearray[7]; 
                     956     ; 
                     957     ;       unsigned char uchCount=0;
                     958                             ; SOURCE LINE # 255
000D 900000   F      959             MOV     DPTR,#uchCount?658
0010 F0              960             MOVX    @DPTR,A
                     961     ;       unsigned char uchTemp;
                     962     ; 
                     963     ;       for(uchCount=0; uchCount < 11;uchCount++)
                     964                             ; SOURCE LINE # 258
0011 F0              965             MOVX    @DPTR,A
0012                 966     ?C0047:
0012 900000   F      967             MOV     DPTR,#uchCount?658
0015 E0              968             MOVX    A,@DPTR
0016 FF              969             MOV     R7,A
0017 C3              970             CLR     C
0018 940B            971             SUBB    A,#0BH
001A 5042            972             JNC     ?C0048
                     973     ;       {
                     974                             ; SOURCE LINE # 259
                     975     ;               uchGPSLatitudearray[uchCount]='0';
                     976                             ; SOURCE LINE # 260
001C 7400     F      977             MOV     A,#LOW (uchGPSLatitudearray?653)
001E 2F              978             ADD     A,R7
001F F582            979             MOV     DPL,A
0021 E4              980             CLR     A
0022 3400     F      981             ADDC    A,#HIGH (uchGPSLatitudearray?653)
0024 F583            982             MOV     DPH,A
0026 7430            983             MOV     A,#030H
0028 F0              984             MOVX    @DPTR,A
                     985     ;               uchGPSLongitudearray[uchCount]='0';
                     986                             ; SOURCE LINE # 261
0029 7400     F      987             MOV     A,#LOW (uchGPSLongitudearray?655)
002B 2F              988             ADD     A,R7
002C F582            989             MOV     DPL,A
002E E4              990             CLR     A
002F 3400     F      991             ADDC    A,#HIGH (uchGPSLongitudearray?655)
0031 F583            992             MOV     DPH,A
0033 7430            993             MOV     A,#030H
0035 F0              994             MOVX    @DPTR,A
                     995     ;               if (uchCount < 6)
                     996                             ; SOURCE LINE # 262
0036 EF              997             MOV     A,R7
0037 C3              998             CLR     C
0038 9406            999             SUBB    A,#06H
003A 501A           1000             JNC     ?C0049
                    1001     ;               {
                    1002                             ; SOURCE LINE # 263
                    1003     ;                       uchGPSUTCTimearray[uchCount]='0';
                    1004                             ; SOURCE LINE # 264
003C 7400     F     1005             MOV     A,#LOW (uchGPSUTCTimearray?651)
003E 2F             1006             ADD     A,R7
003F F582           1007             MOV     DPL,A
0041 E4             1008             CLR     A
0042 3400     F     1009             ADDC    A,#HIGH (uchGPSUTCTimearray?651)
0044 F583           1010             MOV     DPH,A
0046 7430           1011             MOV     A,#030H
0048 F0             1012             MOVX    @DPTR,A
                    1013     ;                       uchGPSUTCDatearray[uchCount]='0';
                    1014                             ; SOURCE LINE # 265
A51 MACRO ASSEMBLER  GPS_NMEA                                                             11/09/2012 17:30:01 PAGE    17

0049 7400     F     1015             MOV     A,#LOW (uchGPSUTCDatearray?657)
004B 2F             1016             ADD     A,R7
004C F582           1017             MOV     DPL,A
004E E4             1018             CLR     A
004F 3400     F     1019             ADDC    A,#HIGH (uchGPSUTCDatearray?657)
0051 F583           1020             MOV     DPH,A
0053 7430           1021             MOV     A,#030H
0055 F0             1022             MOVX    @DPTR,A
                    1023     ;               }
                    1024                             ; SOURCE LINE # 266
                    1025     ;       }
                    1026                             ; SOURCE LINE # 267
0056                1027     ?C0049:
0056 900000   F     1028             MOV     DPTR,#uchCount?658
0059 E0             1029             MOVX    A,@DPTR
005A 04             1030             INC     A
005B F0             1031             MOVX    @DPTR,A
005C 80B4           1032             SJMP    ?C0047
005E                1033     ?C0048:
                    1034     ;       uchGPSLatitudearray[10]=0;
                    1035                             ; SOURCE LINE # 268
005E E4             1036             CLR     A
005F 900000   F     1037             MOV     DPTR,#uchGPSLatitudearray?653+0AH
0062 F0             1038             MOVX    @DPTR,A
                    1039     ;       uchGPSLongitudearray[10]=0;
                    1040                             ; SOURCE LINE # 269
0063 900000   F     1041             MOV     DPTR,#uchGPSLongitudearray?655+0AH
0066 F0             1042             MOVX    @DPTR,A
                    1043     ;       uchGPSUTCTimearray[6]=0;
                    1044                             ; SOURCE LINE # 270
0067 900000   F     1045             MOV     DPTR,#uchGPSUTCTimearray?651+06H
006A F0             1046             MOVX    @DPTR,A
                    1047     ;       uchGPSUTCDatearray[6]=0;
                    1048                             ; SOURCE LINE # 271
006B 900000   F     1049             MOV     DPTR,#uchGPSUTCDatearray?657+06H
006E F0             1050             MOVX    @DPTR,A
                    1051     ; 
                    1052     ;       uchTemp = fn_Receive_Serial();  // Compensate for the first ',' symbol
                    1053                             ; SOURCE LINE # 273
006F 120000   F     1054             LCALL   fn_Receive_Serial
0072 900000   F     1055             MOV     DPTR,#uchTemp?659
0075 EF             1056             MOV     A,R7
0076 F0             1057             MOVX    @DPTR,A
                    1058     ;       for(uchCount=0; uchCount < 6;uchCount++)
                    1059                             ; SOURCE LINE # 274
0077 E4             1060             CLR     A
0078 900000   F     1061             MOV     DPTR,#uchCount?658
007B F0             1062             MOVX    @DPTR,A
007C                1063     ?C0051:
                    1064     ;       {
                    1065                             ; SOURCE LINE # 275
                    1066     ;               uchGPSUTCTimearray[uchCount]=fn_Receive_Serial(); 
                    1067                             ; SOURCE LINE # 276
007C 120000   F     1068             LCALL   fn_Receive_Serial
007F 900000   F     1069             MOV     DPTR,#uchCount?658
0082 E0             1070             MOVX    A,@DPTR
0083 2400     F     1071             ADD     A,#LOW (uchGPSUTCTimearray?651)
0085 F582           1072             MOV     DPL,A
0087 E4             1073             CLR     A
0088 3400     F     1074             ADDC    A,#HIGH (uchGPSUTCTimearray?651)
008A F583           1075             MOV     DPH,A
008C EF             1076             MOV     A,R7
008D F0             1077             MOVX    @DPTR,A
                    1078     ;       }
                    1079                             ; SOURCE LINE # 277
008E 900000   F     1080             MOV     DPTR,#uchCount?658
A51 MACRO ASSEMBLER  GPS_NMEA                                                             11/09/2012 17:30:01 PAGE    18

0091 E0             1081             MOVX    A,@DPTR
0092 04             1082             INC     A
0093 F0             1083             MOVX    @DPTR,A
0094 E0             1084             MOVX    A,@DPTR
0095 C3             1085             CLR     C
0096 9406           1086             SUBB    A,#06H
0098 40E2           1087             JC      ?C0051
009A                1088     ?C0054:
                    1089     ;       while((fn_Receive_Serial())!=',');  // Waiting for ',' Symbol to appear from the GP
                             S
                    1090                             ; SOURCE LINE # 278
009A 120000   F     1091             LCALL   fn_Receive_Serial
009D BF2CFA         1092             CJNE    R7,#02CH,?C0054
00A0                1093     ?C0055:
                    1094     ; 
                    1095     ;       uchStatus = fn_Receive_Serial(); 
                    1096                             ; SOURCE LINE # 280
00A0 120000   F     1097             LCALL   fn_Receive_Serial
00A3 900000   F     1098             MOV     DPTR,#uchStatus?652
00A6 EF             1099             MOV     A,R7
00A7 F0             1100             MOVX    @DPTR,A
                    1101     ; 
                    1102     ;       uchTemp = fn_Receive_Serial();  // Compensate for the  ',' symbol
                    1103                             ; SOURCE LINE # 282
00A8 120000   F     1104             LCALL   fn_Receive_Serial
00AB 900000   F     1105             MOV     DPTR,#uchTemp?659
00AE EF             1106             MOV     A,R7
00AF F0             1107             MOVX    @DPTR,A
                    1108     ; 
                    1109     ;       uchCount=0;
                    1110                             ; SOURCE LINE # 284
00B0 E4             1111             CLR     A
00B1 900000   F     1112             MOV     DPTR,#uchCount?658
                    1113     ;       uchTemp = fn_Receive_Serial();  // First char of Latitude
                    1114                             ; SOURCE LINE # 285
00B4 801D           1115             SJMP    ?C0086
00B6                1116     ?C0056:
                    1117     ;       while(uchTemp!=',')  // Fill Latitude till ',' Symbol appears
                    1118                             ; SOURCE LINE # 286
00B6 900000   F     1119             MOV     DPTR,#uchTemp?659
00B9 E0             1120             MOVX    A,@DPTR
00BA FF             1121             MOV     R7,A
00BB 642C           1122             XRL     A,#02CH
00BD 601F           1123             JZ      ?C0057
                    1124     ;       {
                    1125                             ; SOURCE LINE # 287
                    1126     ;               uchGPSLatitudearray[uchCount] = uchTemp;
                    1127                             ; SOURCE LINE # 288
00BF 900000   F     1128             MOV     DPTR,#uchCount?658
00C2 E0             1129             MOVX    A,@DPTR
00C3 2400     F     1130             ADD     A,#LOW (uchGPSLatitudearray?653)
00C5 F582           1131             MOV     DPL,A
00C7 E4             1132             CLR     A
00C8 3400     F     1133             ADDC    A,#HIGH (uchGPSLatitudearray?653)
00CA F583           1134             MOV     DPH,A
00CC EF             1135             MOV     A,R7
00CD F0             1136             MOVX    @DPTR,A
                    1137     ;               uchCount++;
                    1138                             ; SOURCE LINE # 289
00CE 900000   F     1139             MOV     DPTR,#uchCount?658
00D1 E0             1140             MOVX    A,@DPTR
00D2 04             1141             INC     A
00D3                1142     ?C0086:
00D3 F0             1143             MOVX    @DPTR,A
                    1144     ;               uchTemp = fn_Receive_Serial();  
                    1145                             ; SOURCE LINE # 290
A51 MACRO ASSEMBLER  GPS_NMEA                                                             11/09/2012 17:30:01 PAGE    19

00D4 120000   F     1146             LCALL   fn_Receive_Serial
00D7 900000   F     1147             MOV     DPTR,#uchTemp?659
00DA EF             1148             MOV     A,R7
00DB F0             1149             MOVX    @DPTR,A
                    1150     ;       }
                    1151                             ; SOURCE LINE # 291
00DC 80D8           1152             SJMP    ?C0056
00DE                1153     ?C0057:
                    1154     ;       uchN_S_Indicator = fn_Receive_Serial(); 
                    1155                             ; SOURCE LINE # 292
00DE 120000   F     1156             LCALL   fn_Receive_Serial
00E1 900000   F     1157             MOV     DPTR,#uchN_S_Indicator?654
00E4 EF             1158             MOV     A,R7
00E5 F0             1159             MOVX    @DPTR,A
00E6                1160     ?C0058:
                    1161     ;       while((fn_Receive_Serial())!=',');  // Waiting for ',' Symbol to appear from the GP
                             S
                    1162                             ; SOURCE LINE # 293
00E6 120000   F     1163             LCALL   fn_Receive_Serial
00E9 BF2CFA         1164             CJNE    R7,#02CH,?C0058
00EC                1165     ?C0059:
                    1166     ;       uchCount=0;
                    1167                             ; SOURCE LINE # 294
00EC E4             1168             CLR     A
00ED 900000   F     1169             MOV     DPTR,#uchCount?658
                    1170     ;       uchTemp = fn_Receive_Serial();  // First char of Longitude
                    1171                             ; SOURCE LINE # 295
00F0 801D           1172             SJMP    ?C0087
00F2                1173     ?C0060:
                    1174     ;       while(uchTemp!=',')  // Fill Longitude till ',' Symbol appears
                    1175                             ; SOURCE LINE # 296
00F2 900000   F     1176             MOV     DPTR,#uchTemp?659
00F5 E0             1177             MOVX    A,@DPTR
00F6 FF             1178             MOV     R7,A
00F7 642C           1179             XRL     A,#02CH
00F9 601F           1180             JZ      ?C0061
                    1181     ;       {
                    1182                             ; SOURCE LINE # 297
                    1183     ;               uchGPSLongitudearray[uchCount] = uchTemp;
                    1184                             ; SOURCE LINE # 298
00FB 900000   F     1185             MOV     DPTR,#uchCount?658
00FE E0             1186             MOVX    A,@DPTR
00FF 2400     F     1187             ADD     A,#LOW (uchGPSLongitudearray?655)
0101 F582           1188             MOV     DPL,A
0103 E4             1189             CLR     A
0104 3400     F     1190             ADDC    A,#HIGH (uchGPSLongitudearray?655)
0106 F583           1191             MOV     DPH,A
0108 EF             1192             MOV     A,R7
0109 F0             1193             MOVX    @DPTR,A
                    1194     ;               uchCount++;
                    1195                             ; SOURCE LINE # 299
010A 900000   F     1196             MOV     DPTR,#uchCount?658
010D E0             1197             MOVX    A,@DPTR
010E 04             1198             INC     A
010F                1199     ?C0087:
010F F0             1200             MOVX    @DPTR,A
                    1201     ;               uchTemp = fn_Receive_Serial();  
                    1202                             ; SOURCE LINE # 300
0110 120000   F     1203             LCALL   fn_Receive_Serial
0113 900000   F     1204             MOV     DPTR,#uchTemp?659
0116 EF             1205             MOV     A,R7
0117 F0             1206             MOVX    @DPTR,A
                    1207     ;       }
                    1208                             ; SOURCE LINE # 301
0118 80D8           1209             SJMP    ?C0060
011A                1210     ?C0061:
A51 MACRO ASSEMBLER  GPS_NMEA                                                             11/09/2012 17:30:01 PAGE    20

                    1211     ;       uchGPSLongitudearray[uchCount] = 0;
                    1212                             ; SOURCE LINE # 302
011A 900000   F     1213             MOV     DPTR,#uchCount?658
011D E0             1214             MOVX    A,@DPTR
011E 2400     F     1215             ADD     A,#LOW (uchGPSLongitudearray?655)
0120 F582           1216             MOV     DPL,A
0122 E4             1217             CLR     A
0123 3400     F     1218             ADDC    A,#HIGH (uchGPSLongitudearray?655)
0125 F583           1219             MOV     DPH,A
0127 E4             1220             CLR     A
0128 F0             1221             MOVX    @DPTR,A
                    1222     ;       uchE_W_Indicator = fn_Receive_Serial(); 
                    1223                             ; SOURCE LINE # 303
0129 120000   F     1224             LCALL   fn_Receive_Serial
012C 900000   F     1225             MOV     DPTR,#uchE_W_Indicator?656
012F EF             1226             MOV     A,R7
0130 F0             1227             MOVX    @DPTR,A
0131                1228     ?C0062:
                    1229     ; 
                    1230     ;       while((fn_Receive_Serial())!=',');  // Waiting for ',' Symbol to appear from the GP
                             S
                    1231                             ; SOURCE LINE # 305
0131 120000   F     1232             LCALL   fn_Receive_Serial
0134 BF2CFA         1233             CJNE    R7,#02CH,?C0062
0137                1234     ?C0063:
0137                1235     ?C0064:
                    1236     ;       while((fn_Receive_Serial())!=',');  // Waiting for ',' Symbol to appear from the GP
                             S
                    1237                             ; SOURCE LINE # 306
0137 120000   F     1238             LCALL   fn_Receive_Serial
013A BF2CFA         1239             CJNE    R7,#02CH,?C0064
013D                1240     ?C0065:
013D                1241     ?C0066:
                    1242     ;       while((fn_Receive_Serial())!=',');  // Waiting for ',' Symbol to appear from the GP
                             S
                    1243                             ; SOURCE LINE # 307
013D 120000   F     1244             LCALL   fn_Receive_Serial
0140 BF2CFA         1245             CJNE    R7,#02CH,?C0066
0143                1246     ?C0067:
                    1247     ; 
                    1248     ;       uchCount=0;
                    1249                             ; SOURCE LINE # 309
0143 E4             1250             CLR     A
0144 900000   F     1251             MOV     DPTR,#uchCount?658
                    1252     ;       uchTemp = fn_Receive_Serial();  // First char of UTCDate
                    1253                             ; SOURCE LINE # 310
0147 801D           1254             SJMP    ?C0088
0149                1255     ?C0068:
                    1256     ;       while(uchTemp!=',')  // Fill UTCDate till ',' Symbol appears
                    1257                             ; SOURCE LINE # 311
0149 900000   F     1258             MOV     DPTR,#uchTemp?659
014C E0             1259             MOVX    A,@DPTR
014D FF             1260             MOV     R7,A
014E 642C           1261             XRL     A,#02CH
0150 601F           1262             JZ      ?C0069
                    1263     ;       {
                    1264                             ; SOURCE LINE # 312
                    1265     ;               uchGPSUTCDatearray[uchCount] = uchTemp;
                    1266                             ; SOURCE LINE # 313
0152 900000   F     1267             MOV     DPTR,#uchCount?658
0155 E0             1268             MOVX    A,@DPTR
0156 2400     F     1269             ADD     A,#LOW (uchGPSUTCDatearray?657)
0158 F582           1270             MOV     DPL,A
015A E4             1271             CLR     A
015B 3400     F     1272             ADDC    A,#HIGH (uchGPSUTCDatearray?657)
015D F583           1273             MOV     DPH,A
A51 MACRO ASSEMBLER  GPS_NMEA                                                             11/09/2012 17:30:01 PAGE    21

015F EF             1274             MOV     A,R7
0160 F0             1275             MOVX    @DPTR,A
                    1276     ;               uchCount++;
                    1277                             ; SOURCE LINE # 314
0161 900000   F     1278             MOV     DPTR,#uchCount?658
0164 E0             1279             MOVX    A,@DPTR
0165 04             1280             INC     A
0166                1281     ?C0088:
0166 F0             1282             MOVX    @DPTR,A
                    1283     ;               uchTemp = fn_Receive_Serial();  
                    1284                             ; SOURCE LINE # 315
0167 120000   F     1285             LCALL   fn_Receive_Serial
016A 900000   F     1286             MOV     DPTR,#uchTemp?659
016D EF             1287             MOV     A,R7
016E F0             1288             MOVX    @DPTR,A
                    1289     ;       }
                    1290                             ; SOURCE LINE # 316
016F 80D8           1291             SJMP    ?C0068
0171                1292     ?C0069:
                    1293     ; 
                    1294     ;       strncpy(&guchCompleteDataPacket[GPSUTCTimePOSITIONINPACKET],uchGPSUTCTimearray, 6);
                    1295                             ; SOURCE LINE # 318
0171 900000   F     1296             MOV     DPTR,#?_strncpy?BYTE+03H
0174 7401           1297             MOV     A,#01H
0176 F0             1298             MOVX    @DPTR,A
0177 A3             1299             INC     DPTR
0178 7400     F     1300             MOV     A,#HIGH (uchGPSUTCTimearray?651)
017A F0             1301             MOVX    @DPTR,A
017B A3             1302             INC     DPTR
017C 7400     F     1303             MOV     A,#LOW (uchGPSUTCTimearray?651)
017E F0             1304             MOVX    @DPTR,A
017F A3             1305             INC     DPTR
0180 E4             1306             CLR     A
0181 F0             1307             MOVX    @DPTR,A
0182 A3             1308             INC     DPTR
0183 7406           1309             MOV     A,#06H
0185 F0             1310             MOVX    @DPTR,A
0186 7B01           1311             MOV     R3,#01H
0188 7A00     F     1312             MOV     R2,#HIGH (guchCompleteDataPacket+01CH)
018A 7900     F     1313             MOV     R1,#LOW (guchCompleteDataPacket+01CH)
018C 120000   F     1314             LCALL   _strncpy
                    1315     ;       guchCompleteDataPacket[GPSStatusPOSITIONINPACKET]= uchStatus;
                    1316                             ; SOURCE LINE # 319
018F 900000   F     1317             MOV     DPTR,#uchStatus?652
0192 E0             1318             MOVX    A,@DPTR
0193 900000   F     1319             MOV     DPTR,#guchCompleteDataPacket+05H
0196 F0             1320             MOVX    @DPTR,A
                    1321     ;       strncpy(&guchCompleteDataPacket[GPSLatitudePOSITIONINPACKET],uchGPSLatitudearray, 1
                             0);
                    1322                             ; SOURCE LINE # 320
0197 900000   F     1323             MOV     DPTR,#?_strncpy?BYTE+03H
019A 7401           1324             MOV     A,#01H
019C F0             1325             MOVX    @DPTR,A
019D A3             1326             INC     DPTR
019E 7400     F     1327             MOV     A,#HIGH (uchGPSLatitudearray?653)
01A0 F0             1328             MOVX    @DPTR,A
01A1 A3             1329             INC     DPTR
01A2 7400     F     1330             MOV     A,#LOW (uchGPSLatitudearray?653)
01A4 F0             1331             MOVX    @DPTR,A
01A5 A3             1332             INC     DPTR
01A6 E4             1333             CLR     A
01A7 F0             1334             MOVX    @DPTR,A
01A8 A3             1335             INC     DPTR
01A9 740A           1336             MOV     A,#0AH
01AB F0             1337             MOVX    @DPTR,A
01AC 7B01           1338             MOV     R3,#01H
A51 MACRO ASSEMBLER  GPS_NMEA                                                             11/09/2012 17:30:01 PAGE    22

01AE 7A00     F     1339             MOV     R2,#HIGH (guchCompleteDataPacket+06H)
01B0 7900     F     1340             MOV     R1,#LOW (guchCompleteDataPacket+06H)
01B2 120000   F     1341             LCALL   _strncpy
                    1342     ; 
                    1343     ;       strncpy(&guchLatitude[0],uchGPSLatitudearray, 10);
                    1344                             ; SOURCE LINE # 322
01B5 900000   F     1345             MOV     DPTR,#?_strncpy?BYTE+03H
01B8 7401           1346             MOV     A,#01H
01BA F0             1347             MOVX    @DPTR,A
01BB A3             1348             INC     DPTR
01BC 7400     F     1349             MOV     A,#HIGH (uchGPSLatitudearray?653)
01BE F0             1350             MOVX    @DPTR,A
01BF A3             1351             INC     DPTR
01C0 7400     F     1352             MOV     A,#LOW (uchGPSLatitudearray?653)
01C2 F0             1353             MOVX    @DPTR,A
01C3 A3             1354             INC     DPTR
01C4 E4             1355             CLR     A
01C5 F0             1356             MOVX    @DPTR,A
01C6 A3             1357             INC     DPTR
01C7 740A           1358             MOV     A,#0AH
01C9 F0             1359             MOVX    @DPTR,A
01CA 7B01           1360             MOV     R3,#01H
01CC 7A00     F     1361             MOV     R2,#HIGH (guchLatitude)
01CE 7900     F     1362             MOV     R1,#LOW (guchLatitude)
01D0 120000   F     1363             LCALL   _strncpy
                    1364     ;       guchLatitude[10] = 0;
                    1365                             ; SOURCE LINE # 323
01D3 E4             1366             CLR     A
01D4 900000   F     1367             MOV     DPTR,#guchLatitude+0AH
01D7 F0             1368             MOVX    @DPTR,A
                    1369     ; 
                    1370     ;       guchCompleteDataPacket[GPSN_SPOSITIONINPACKET]= uchN_S_Indicator;
                    1371                             ; SOURCE LINE # 325
01D8 900000   F     1372             MOV     DPTR,#uchN_S_Indicator?654
01DB E0             1373             MOVX    A,@DPTR
01DC 900000   F     1374             MOV     DPTR,#guchCompleteDataPacket+010H
01DF F0             1375             MOVX    @DPTR,A
                    1376     ;       NSIndicator = uchN_S_Indicator;
                    1377                             ; SOURCE LINE # 326
01E0 900000   F     1378             MOV     DPTR,#NSIndicator
01E3 F0             1379             MOVX    @DPTR,A
                    1380     ; 
                    1381     ;       strncpy(&guchCompleteDataPacket[GPSLongitudePOSITIONINPACKET],uchGPSLongitudearray,
                              10);
                    1382                             ; SOURCE LINE # 328
01E4 900000   F     1383             MOV     DPTR,#?_strncpy?BYTE+03H
01E7 7401           1384             MOV     A,#01H
01E9 F0             1385             MOVX    @DPTR,A
01EA A3             1386             INC     DPTR
01EB 7400     F     1387             MOV     A,#HIGH (uchGPSLongitudearray?655)
01ED F0             1388             MOVX    @DPTR,A
01EE A3             1389             INC     DPTR
01EF 7400     F     1390             MOV     A,#LOW (uchGPSLongitudearray?655)
01F1 F0             1391             MOVX    @DPTR,A
01F2 A3             1392             INC     DPTR
01F3 E4             1393             CLR     A
01F4 F0             1394             MOVX    @DPTR,A
01F5 A3             1395             INC     DPTR
01F6 740A           1396             MOV     A,#0AH
01F8 F0             1397             MOVX    @DPTR,A
01F9 7B01           1398             MOV     R3,#01H
01FB 7A00     F     1399             MOV     R2,#HIGH (guchCompleteDataPacket+011H)
01FD 7900     F     1400             MOV     R1,#LOW (guchCompleteDataPacket+011H)
01FF 120000   F     1401             LCALL   _strncpy
                    1402     ; 
                    1403     ;       strncpy(&guchLongitude[0],uchGPSLongitudearray, 10);
A51 MACRO ASSEMBLER  GPS_NMEA                                                             11/09/2012 17:30:01 PAGE    23

                    1404                             ; SOURCE LINE # 330
0202 900000   F     1405             MOV     DPTR,#?_strncpy?BYTE+03H
0205 7401           1406             MOV     A,#01H
0207 F0             1407             MOVX    @DPTR,A
0208 A3             1408             INC     DPTR
0209 7400     F     1409             MOV     A,#HIGH (uchGPSLongitudearray?655)
020B F0             1410             MOVX    @DPTR,A
020C A3             1411             INC     DPTR
020D 7400     F     1412             MOV     A,#LOW (uchGPSLongitudearray?655)
020F F0             1413             MOVX    @DPTR,A
0210 A3             1414             INC     DPTR
0211 E4             1415             CLR     A
0212 F0             1416             MOVX    @DPTR,A
0213 A3             1417             INC     DPTR
0214 740A           1418             MOV     A,#0AH
0216 F0             1419             MOVX    @DPTR,A
0217 7B01           1420             MOV     R3,#01H
0219 7A00     F     1421             MOV     R2,#HIGH (guchLongitude)
021B 7900     F     1422             MOV     R1,#LOW (guchLongitude)
021D 120000   F     1423             LCALL   _strncpy
                    1424     ;       guchLongitude[10] = 0;
                    1425                             ; SOURCE LINE # 331
0220 E4             1426             CLR     A
0221 900000   F     1427             MOV     DPTR,#guchLongitude+0AH
0224 F0             1428             MOVX    @DPTR,A
                    1429     ; 
                    1430     ;       guchCompleteDataPacket[GPSE_WPOSITIONINPACKET]= uchE_W_Indicator;
                    1431                             ; SOURCE LINE # 333
0225 900000   F     1432             MOV     DPTR,#uchE_W_Indicator?656
0228 E0             1433             MOVX    A,@DPTR
0229 900000   F     1434             MOV     DPTR,#guchCompleteDataPacket+01BH
022C F0             1435             MOVX    @DPTR,A
                    1436     ;       EWIndicator = uchE_W_Indicator;
                    1437                             ; SOURCE LINE # 334
022D 900000   F     1438             MOV     DPTR,#EWIndicator
0230 F0             1439             MOVX    @DPTR,A
                    1440     ;       strncpy(&guchCompleteDataPacket[GPSUTCDatePOSITIONINPACKET],uchGPSUTCDatearray, 6);
                    1441                             ; SOURCE LINE # 335
0231 900000   F     1442             MOV     DPTR,#?_strncpy?BYTE+03H
0234 7401           1443             MOV     A,#01H
0236 F0             1444             MOVX    @DPTR,A
0237 A3             1445             INC     DPTR
0238 7400     F     1446             MOV     A,#HIGH (uchGPSUTCDatearray?657)
023A F0             1447             MOVX    @DPTR,A
023B A3             1448             INC     DPTR
023C 7400     F     1449             MOV     A,#LOW (uchGPSUTCDatearray?657)
023E F0             1450             MOVX    @DPTR,A
023F A3             1451             INC     DPTR
0240 E4             1452             CLR     A
0241 F0             1453             MOVX    @DPTR,A
0242 A3             1454             INC     DPTR
0243 7406           1455             MOV     A,#06H
0245 F0             1456             MOVX    @DPTR,A
0246 7B01           1457             MOV     R3,#01H
0248 7A00     F     1458             MOV     R2,#HIGH (guchCompleteDataPacket+022H)
024A 7900     F     1459             MOV     R1,#LOW (guchCompleteDataPacket+022H)
024C 020000   F     1460             LJMP    _strncpy
                    1461     ; END OF fnDecodeGPRMC
                    1462     
                    1463     ;       
                    1464     ; }
                    1465     ; void fnDecodeGPVTG(void)// 9.6 VTG - COURSE OVER GROUND AND GROUND SPEED
                    1466     
----                1467             RSEG  ?PR?fnDecodeGPVTG?GPS_NMEA
0000                1468     fnDecodeGPVTG:
                    1469             USING   0
A51 MACRO ASSEMBLER  GPS_NMEA                                                             11/09/2012 17:30:01 PAGE    24

                    1470                             ; SOURCE LINE # 338
                    1471     ; {
                    1472                             ; SOURCE LINE # 339
                    1473     ;       unsigned char uchGPSSpeedInKnotsarray[6]; 
                    1474     ;       unsigned char uchGPSSpeedInKMPHarray[7];
                    1475     ;       unsigned char uchCount=0;
                    1476                             ; SOURCE LINE # 342
0000 E4             1477             CLR     A
0001 900000   F     1478             MOV     DPTR,#uchCount?762
0004 F0             1479             MOVX    @DPTR,A
                    1480     ;       unsigned char uchTemp;
                    1481     ; 
                    1482     ;       for(uchCount=0; uchCount < 5;uchCount++)
                    1483                             ; SOURCE LINE # 345
0005 F0             1484             MOVX    @DPTR,A
0006                1485     ?C0071:
0006 900000   F     1486             MOV     DPTR,#uchCount?762
0009 E0             1487             MOVX    A,@DPTR
000A FF             1488             MOV     R7,A
000B C3             1489             CLR     C
000C 9405           1490             SUBB    A,#05H
000E 5022           1491             JNC     ?C0072
                    1492     ;       {
                    1493                             ; SOURCE LINE # 346
                    1494     ;               uchGPSSpeedInKnotsarray[uchCount]='0';
                    1495                             ; SOURCE LINE # 347
0010 7400     F     1496             MOV     A,#LOW (uchGPSSpeedInKnotsarray?760)
0012 2F             1497             ADD     A,R7
0013 F582           1498             MOV     DPL,A
0015 E4             1499             CLR     A
0016 3400     F     1500             ADDC    A,#HIGH (uchGPSSpeedInKnotsarray?760)
0018 F583           1501             MOV     DPH,A
001A 7430           1502             MOV     A,#030H
001C F0             1503             MOVX    @DPTR,A
                    1504     ;               uchGPSSpeedInKMPHarray[uchCount]='0';
                    1505                             ; SOURCE LINE # 348
001D 7400     F     1506             MOV     A,#LOW (uchGPSSpeedInKMPHarray?761)
001F 2F             1507             ADD     A,R7
0020 F582           1508             MOV     DPL,A
0022 E4             1509             CLR     A
0023 3400     F     1510             ADDC    A,#HIGH (uchGPSSpeedInKMPHarray?761)
0025 F583           1511             MOV     DPH,A
0027 7430           1512             MOV     A,#030H
0029 F0             1513             MOVX    @DPTR,A
                    1514     ;       }
                    1515                             ; SOURCE LINE # 349
002A 900000   F     1516             MOV     DPTR,#uchCount?762
002D E0             1517             MOVX    A,@DPTR
002E 04             1518             INC     A
002F F0             1519             MOVX    @DPTR,A
0030 80D4           1520             SJMP    ?C0071
0032                1521     ?C0072:
                    1522     ;       uchGPSSpeedInKMPHarray[5]='0';
                    1523                             ; SOURCE LINE # 350
0032 900000   F     1524             MOV     DPTR,#uchGPSSpeedInKMPHarray?761+05H
0035 7430           1525             MOV     A,#030H
0037 F0             1526             MOVX    @DPTR,A
                    1527     ;       uchGPSSpeedInKMPHarray[6]=0;
                    1528                             ; SOURCE LINE # 351
0038 E4             1529             CLR     A
0039 A3             1530             INC     DPTR
003A F0             1531             MOVX    @DPTR,A
                    1532     ;       uchGPSSpeedInKnotsarray[5]=0;
                    1533                             ; SOURCE LINE # 352
003B 900000   F     1534             MOV     DPTR,#uchGPSSpeedInKnotsarray?760+05H
003E F0             1535             MOVX    @DPTR,A
A51 MACRO ASSEMBLER  GPS_NMEA                                                             11/09/2012 17:30:01 PAGE    25

                    1536     ; 
                    1537     ;       for (uchCount=0; uchCount < GPVTGSPEEDINKNOTSFIELD;uchCount++)
                    1538                             ; SOURCE LINE # 354
003F 900000   F     1539             MOV     DPTR,#uchCount?762
0042 F0             1540             MOVX    @DPTR,A
0043                1541     ?C0074:
0043                1542     ?C0077:
                    1543     ;               while((fn_Receive_Serial())!=',');  // Waiting for ',' Symbol to appear fro
                             m the GPS
                    1544                             ; SOURCE LINE # 355
0043 120000   F     1545             LCALL   fn_Receive_Serial
0046 BF2CFA         1546             CJNE    R7,#02CH,?C0077
0049                1547     ?C0078:
0049                1548     ?C0076:
0049 900000   F     1549             MOV     DPTR,#uchCount?762
004C E0             1550             MOVX    A,@DPTR
004D 04             1551             INC     A
004E F0             1552             MOVX    @DPTR,A
004F E0             1553             MOVX    A,@DPTR
0050 C3             1554             CLR     C
0051 9403           1555             SUBB    A,#03H
0053 40EE           1556             JC      ?C0074
0055                1557     ?C0075:
                    1558     ;       uchCount=0;
                    1559                             ; SOURCE LINE # 356
0055 E4             1560             CLR     A
0056 900000   F     1561             MOV     DPTR,#uchCount?762
                    1562     ;       uchTemp = fn_Receive_Serial();  
                    1563                             ; SOURCE LINE # 357
                    1564     ;---- Variable 'uchTemp?763' assigned to Register 'R7' ----
0059 8019           1565             SJMP    ?C0089
005B                1566     ?C0079:
                    1567     ;       while(uchTemp!=',')  // Fill Speed in Knots till ',' Symbol appears
                    1568                             ; SOURCE LINE # 358
005B EF             1569             MOV     A,R7
005C 642C           1570             XRL     A,#02CH
005E 601A           1571             JZ      ?C0080
                    1572     ;       {
                    1573                             ; SOURCE LINE # 359
                    1574     ;               uchGPSSpeedInKnotsarray[uchCount] = uchTemp;
                    1575                             ; SOURCE LINE # 360
0060 900000   F     1576             MOV     DPTR,#uchCount?762
0063 E0             1577             MOVX    A,@DPTR
0064 2400     F     1578             ADD     A,#LOW (uchGPSSpeedInKnotsarray?760)
0066 F582           1579             MOV     DPL,A
0068 E4             1580             CLR     A
0069 3400     F     1581             ADDC    A,#HIGH (uchGPSSpeedInKnotsarray?760)
006B F583           1582             MOV     DPH,A
006D EF             1583             MOV     A,R7
006E F0             1584             MOVX    @DPTR,A
                    1585     ;               uchCount++;
                    1586                             ; SOURCE LINE # 361
006F 900000   F     1587             MOV     DPTR,#uchCount?762
0072 E0             1588             MOVX    A,@DPTR
0073 04             1589             INC     A
0074                1590     ?C0089:
0074 F0             1591             MOVX    @DPTR,A
                    1592     ;               uchTemp = fn_Receive_Serial();  
                    1593                             ; SOURCE LINE # 362
0075 120000   F     1594             LCALL   fn_Receive_Serial
                    1595     ;       }
                    1596                             ; SOURCE LINE # 363
0078 80E1           1597             SJMP    ?C0079
007A                1598     ?C0080:
                    1599     ;       uchCount=0;
                    1600                             ; SOURCE LINE # 364
A51 MACRO ASSEMBLER  GPS_NMEA                                                             11/09/2012 17:30:01 PAGE    26

007A E4             1601             CLR     A
007B 900000   F     1602             MOV     DPTR,#uchCount?762
                    1603     ;       uchTemp = fn_Receive_Serial();  
                    1604                             ; SOURCE LINE # 365
007E 8019           1605             SJMP    ?C0090
0080                1606     ?C0081:
                    1607     ;       while(uchTemp!=',')  // Fill Speed in KMPH till ',' Symbol appears
                    1608                             ; SOURCE LINE # 366
0080 EF             1609             MOV     A,R7
0081 642C           1610             XRL     A,#02CH
0083 601A           1611             JZ      ?C0082
                    1612     ;       {
                    1613                             ; SOURCE LINE # 367
                    1614     ;               uchGPSSpeedInKMPHarray[uchCount] = uchTemp;
                    1615                             ; SOURCE LINE # 368
0085 900000   F     1616             MOV     DPTR,#uchCount?762
0088 E0             1617             MOVX    A,@DPTR
0089 2400     F     1618             ADD     A,#LOW (uchGPSSpeedInKMPHarray?761)
008B F582           1619             MOV     DPL,A
008D E4             1620             CLR     A
008E 3400     F     1621             ADDC    A,#HIGH (uchGPSSpeedInKMPHarray?761)
0090 F583           1622             MOV     DPH,A
0092 EF             1623             MOV     A,R7
0093 F0             1624             MOVX    @DPTR,A
                    1625     ;               uchCount++;
                    1626                             ; SOURCE LINE # 369
0094 900000   F     1627             MOV     DPTR,#uchCount?762
0097 E0             1628             MOVX    A,@DPTR
0098 04             1629             INC     A
0099                1630     ?C0090:
0099 F0             1631             MOVX    @DPTR,A
                    1632     ;               uchTemp = fn_Receive_Serial();  
                    1633                             ; SOURCE LINE # 370
009A 120000   F     1634             LCALL   fn_Receive_Serial
                    1635     ;       }
                    1636                             ; SOURCE LINE # 371
009D 80E1           1637             SJMP    ?C0081
009F                1638     ?C0082:
                    1639     ;       //DBGPRINTF("$GPVTG uchGPSSpeedInKnotsarray = %s\n",uchGPSSpeedInKnotsarray);
                    1640     ;       //DBGPRINTF("$GPVTG uchGPSSpeedInKMPHarray = %s\n",uchGPSSpeedInKMPHarray);
                    1641     ; 
                    1642     ;       strncpy(&guchCompleteDataPacket[GPSSpeedInKnotsPOSITIONINPACKET],uchGPSSpeedInKnots
                             array, 6);
                    1643                             ; SOURCE LINE # 375
009F 900000   F     1644             MOV     DPTR,#?_strncpy?BYTE+03H
00A2 7401           1645             MOV     A,#01H
00A4 F0             1646             MOVX    @DPTR,A
00A5 A3             1647             INC     DPTR
00A6 7400     F     1648             MOV     A,#HIGH (uchGPSSpeedInKnotsarray?760)
00A8 F0             1649             MOVX    @DPTR,A
00A9 A3             1650             INC     DPTR
00AA 7400     F     1651             MOV     A,#LOW (uchGPSSpeedInKnotsarray?760)
00AC F0             1652             MOVX    @DPTR,A
00AD A3             1653             INC     DPTR
00AE E4             1654             CLR     A
00AF F0             1655             MOVX    @DPTR,A
00B0 A3             1656             INC     DPTR
00B1 7406           1657             MOV     A,#06H
00B3 F0             1658             MOVX    @DPTR,A
00B4 7B01           1659             MOV     R3,#01H
00B6 7A00     F     1660             MOV     R2,#HIGH (guchCompleteDataPacket+028H)
00B8 7900     F     1661             MOV     R1,#LOW (guchCompleteDataPacket+028H)
00BA 120000   F     1662             LCALL   _strncpy
                    1663     ;       strncpy(&guchCompleteDataPacket[GPSSpeedInKMPHPOSITIONINPACKET],uchGPSSpeedInKMPHar
                             ray, 7);
                    1664                             ; SOURCE LINE # 376
A51 MACRO ASSEMBLER  GPS_NMEA                                                             11/09/2012 17:30:01 PAGE    27

00BD 900000   F     1665             MOV     DPTR,#?_strncpy?BYTE+03H
00C0 7401           1666             MOV     A,#01H
00C2 F0             1667             MOVX    @DPTR,A
00C3 A3             1668             INC     DPTR
00C4 7400     F     1669             MOV     A,#HIGH (uchGPSSpeedInKMPHarray?761)
00C6 F0             1670             MOVX    @DPTR,A
00C7 A3             1671             INC     DPTR
00C8 7400     F     1672             MOV     A,#LOW (uchGPSSpeedInKMPHarray?761)
00CA F0             1673             MOVX    @DPTR,A
00CB A3             1674             INC     DPTR
00CC E4             1675             CLR     A
00CD F0             1676             MOVX    @DPTR,A
00CE A3             1677             INC     DPTR
00CF 7407           1678             MOV     A,#07H
00D1 F0             1679             MOVX    @DPTR,A
00D2 7B01           1680             MOV     R3,#01H
00D4 7A00     F     1681             MOV     R2,#HIGH (guchCompleteDataPacket+02DH)
00D6 7900     F     1682             MOV     R1,#LOW (guchCompleteDataPacket+02DH)
00D8 020000   F     1683             LJMP    _strncpy
                    1684     ; END OF fnDecodeGPVTG
                    1685     
                    1686             END
A51 MACRO ASSEMBLER  GPS_NMEA                                                             11/09/2012 17:30:01 PAGE    28

SYMBOL TABLE LISTING
------ ----- -------


N A M E                              T Y P E  V A L U E   ATTRIBUTES

?C0001. . . . . . . . . . . . . . .  C ADDR   0006H   R   SEG=?PR?FN_GPSPATTERNDETECT?GPS_NMEA
?C0002. . . . . . . . . . . . . . .  C ADDR   0024H   R   SEG=?PR?FN_GPSPATTERNDETECT?GPS_NMEA
?C0004. . . . . . . . . . . . . . .  C ADDR   0037H   R   SEG=?PR?FN_GPSPATTERNDETECT?GPS_NMEA
?C0005. . . . . . . . . . . . . . .  C ADDR   006BH   R   SEG=?PR?FN_GPSPATTERNDETECT?GPS_NMEA
?C0006. . . . . . . . . . . . . . .  C ADDR   0063H   R   SEG=?PR?FN_GPSPATTERNDETECT?GPS_NMEA
?C0008. . . . . . . . . . . . . . .  C ADDR   006DH   R   SEG=?PR?FN_GPSPATTERNDETECT?GPS_NMEA
?C0012. . . . . . . . . . . . . . .  C ADDR   001DH   R   SEG=?PR?FN_GETGPSCOORDINATES?GPS_NMEA
?C0013. . . . . . . . . . . . . . .  C ADDR   0000H   R   SEG=?PR?FN_DECODEGPS?GPS_NMEA
?C0014. . . . . . . . . . . . . . .  C ADDR   0006H   R   SEG=?PR?FN_DECODEGPS?GPS_NMEA
?C0016. . . . . . . . . . . . . . .  C ADDR   001FH   R   SEG=?PR?FN_DECODEGPS?GPS_NMEA
?C0018. . . . . . . . . . . . . . .  C ADDR   0022H   R   SEG=?PR?FN_DECODEGPS?GPS_NMEA
?C0020. . . . . . . . . . . . . . .  C ADDR   0025H   R   SEG=?PR?FN_DECODEGPS?GPS_NMEA
?C0022. . . . . . . . . . . . . . .  C ADDR   0028H   R   SEG=?PR?FN_DECODEGPS?GPS_NMEA
?C0024. . . . . . . . . . . . . . .  C ADDR   002BH   R   SEG=?PR?FN_DECODEGPS?GPS_NMEA
?C0028. . . . . . . . . . . . . . .  C ADDR   002EH   R   SEG=?PR?FN_DECODEGPS?GPS_NMEA
?C0029. . . . . . . . . . . . . . .  C ADDR   0014H   R   SEG=?PR?FNDECODEGPGGA?GPS_NMEA
?C0030. . . . . . . . . . . . . . .  C ADDR   0026H   R   SEG=?PR?FNDECODEGPGGA?GPS_NMEA
?C0031. . . . . . . . . . . . . . .  C ADDR   001AH   R   SEG=?PR?FNDECODEGPGGA?GPS_NMEA
?C0032. . . . . . . . . . . . . . .  C ADDR   0014H   R   SEG=?PR?FNDECODEGPGGA?GPS_NMEA
?C0033. . . . . . . . . . . . . . .  C ADDR   001AH   R   SEG=?PR?FNDECODEGPGGA?GPS_NMEA
?C0034. . . . . . . . . . . . . . .  C ADDR   0038H   R   SEG=?PR?FNDECODEGPGGA?GPS_NMEA
?C0035. . . . . . . . . . . . . . .  C ADDR   0057H   R   SEG=?PR?FNDECODEGPGGA?GPS_NMEA
?C0036. . . . . . . . . . . . . . .  C ADDR   0065H   R   SEG=?PR?FNDECODEGPGGA?GPS_NMEA
?C0039. . . . . . . . . . . . . . .  C ADDR   0012H   R   SEG=?PR?FNDECODEGPGSV?GPS_NMEA
?C0040. . . . . . . . . . . . . . .  C ADDR   0024H   R   SEG=?PR?FNDECODEGPGSV?GPS_NMEA
?C0041. . . . . . . . . . . . . . .  C ADDR   0018H   R   SEG=?PR?FNDECODEGPGSV?GPS_NMEA
?C0042. . . . . . . . . . . . . . .  C ADDR   0012H   R   SEG=?PR?FNDECODEGPGSV?GPS_NMEA
?C0043. . . . . . . . . . . . . . .  C ADDR   0018H   R   SEG=?PR?FNDECODEGPGSV?GPS_NMEA
?C0044. . . . . . . . . . . . . . .  C ADDR   002AH   R   SEG=?PR?FNDECODEGPGSV?GPS_NMEA
?C0045. . . . . . . . . . . . . . .  C ADDR   0049H   R   SEG=?PR?FNDECODEGPGSV?GPS_NMEA
?C0047. . . . . . . . . . . . . . .  C ADDR   0012H   R   SEG=?PR?FNDECODEGPRMC?GPS_NMEA
?C0048. . . . . . . . . . . . . . .  C ADDR   005EH   R   SEG=?PR?FNDECODEGPRMC?GPS_NMEA
?C0049. . . . . . . . . . . . . . .  C ADDR   0056H   R   SEG=?PR?FNDECODEGPRMC?GPS_NMEA
?C0051. . . . . . . . . . . . . . .  C ADDR   007CH   R   SEG=?PR?FNDECODEGPRMC?GPS_NMEA
?C0054. . . . . . . . . . . . . . .  C ADDR   009AH   R   SEG=?PR?FNDECODEGPRMC?GPS_NMEA
?C0055. . . . . . . . . . . . . . .  C ADDR   00A0H   R   SEG=?PR?FNDECODEGPRMC?GPS_NMEA
?C0056. . . . . . . . . . . . . . .  C ADDR   00B6H   R   SEG=?PR?FNDECODEGPRMC?GPS_NMEA
?C0057. . . . . . . . . . . . . . .  C ADDR   00DEH   R   SEG=?PR?FNDECODEGPRMC?GPS_NMEA
?C0058. . . . . . . . . . . . . . .  C ADDR   00E6H   R   SEG=?PR?FNDECODEGPRMC?GPS_NMEA
?C0059. . . . . . . . . . . . . . .  C ADDR   00ECH   R   SEG=?PR?FNDECODEGPRMC?GPS_NMEA
?C0060. . . . . . . . . . . . . . .  C ADDR   00F2H   R   SEG=?PR?FNDECODEGPRMC?GPS_NMEA
?C0061. . . . . . . . . . . . . . .  C ADDR   011AH   R   SEG=?PR?FNDECODEGPRMC?GPS_NMEA
?C0062. . . . . . . . . . . . . . .  C ADDR   0131H   R   SEG=?PR?FNDECODEGPRMC?GPS_NMEA
?C0063. . . . . . . . . . . . . . .  C ADDR   0137H   R   SEG=?PR?FNDECODEGPRMC?GPS_NMEA
?C0064. . . . . . . . . . . . . . .  C ADDR   0137H   R   SEG=?PR?FNDECODEGPRMC?GPS_NMEA
?C0065. . . . . . . . . . . . . . .  C ADDR   013DH   R   SEG=?PR?FNDECODEGPRMC?GPS_NMEA
?C0066. . . . . . . . . . . . . . .  C ADDR   013DH   R   SEG=?PR?FNDECODEGPRMC?GPS_NMEA
?C0067. . . . . . . . . . . . . . .  C ADDR   0143H   R   SEG=?PR?FNDECODEGPRMC?GPS_NMEA
?C0068. . . . . . . . . . . . . . .  C ADDR   0149H   R   SEG=?PR?FNDECODEGPRMC?GPS_NMEA
?C0069. . . . . . . . . . . . . . .  C ADDR   0171H   R   SEG=?PR?FNDECODEGPRMC?GPS_NMEA
?C0071. . . . . . . . . . . . . . .  C ADDR   0006H   R   SEG=?PR?FNDECODEGPVTG?GPS_NMEA
?C0072. . . . . . . . . . . . . . .  C ADDR   0032H   R   SEG=?PR?FNDECODEGPVTG?GPS_NMEA
?C0074. . . . . . . . . . . . . . .  C ADDR   0043H   R   SEG=?PR?FNDECODEGPVTG?GPS_NMEA
?C0075. . . . . . . . . . . . . . .  C ADDR   0055H   R   SEG=?PR?FNDECODEGPVTG?GPS_NMEA
?C0076. . . . . . . . . . . . . . .  C ADDR   0049H   R   SEG=?PR?FNDECODEGPVTG?GPS_NMEA
?C0077. . . . . . . . . . . . . . .  C ADDR   0043H   R   SEG=?PR?FNDECODEGPVTG?GPS_NMEA
?C0078. . . . . . . . . . . . . . .  C ADDR   0049H   R   SEG=?PR?FNDECODEGPVTG?GPS_NMEA
?C0079. . . . . . . . . . . . . . .  C ADDR   005BH   R   SEG=?PR?FNDECODEGPVTG?GPS_NMEA
?C0080. . . . . . . . . . . . . . .  C ADDR   007AH   R   SEG=?PR?FNDECODEGPVTG?GPS_NMEA
?C0081. . . . . . . . . . . . . . .  C ADDR   0080H   R   SEG=?PR?FNDECODEGPVTG?GPS_NMEA
A51 MACRO ASSEMBLER  GPS_NMEA                                                             11/09/2012 17:30:01 PAGE    29

?C0082. . . . . . . . . . . . . . .  C ADDR   009FH   R   SEG=?PR?FNDECODEGPVTG?GPS_NMEA
?C0084. . . . . . . . . . . . . . .  C ADDR   0052H   R   SEG=?PR?FNDECODEGPGGA?GPS_NMEA
?C0085. . . . . . . . . . . . . . .  C ADDR   0043H   R   SEG=?PR?FNDECODEGPGSV?GPS_NMEA
?C0086. . . . . . . . . . . . . . .  C ADDR   00D3H   R   SEG=?PR?FNDECODEGPRMC?GPS_NMEA
?C0087. . . . . . . . . . . . . . .  C ADDR   010FH   R   SEG=?PR?FNDECODEGPRMC?GPS_NMEA
?C0088. . . . . . . . . . . . . . .  C ADDR   0166H   R   SEG=?PR?FNDECODEGPRMC?GPS_NMEA
?C0089. . . . . . . . . . . . . . .  C ADDR   0074H   R   SEG=?PR?FNDECODEGPVTG?GPS_NMEA
?C0090. . . . . . . . . . . . . . .  C ADDR   0099H   R   SEG=?PR?FNDECODEGPVTG?GPS_NMEA
?C?STRCMP . . . . . . . . . . . . .  C ADDR   -----       EXT
?CO?GPS_NMEA. . . . . . . . . . . .  C SEG    005CH       REL=UNIT
?C_INITSEG. . . . . . . . . . . . .  C SEG    0021H       REL=UNIT
?FNDECODEGPGGA?BYTE . . . . . . . .  X ADDR   0000H   R   SEG=?XD?FNDECODEGPGGA?GPS_NMEA
?FNDECODEGPGSV?BYTE . . . . . . . .  X ADDR   0000H   R   SEG=?XD?FNDECODEGPGSV?GPS_NMEA
?FNDECODEGPRMC?BYTE . . . . . . . .  X ADDR   0000H   R   SEG=?XD?FNDECODEGPRMC?GPS_NMEA
?FNDECODEGPVTG?BYTE . . . . . . . .  X ADDR   0000H   R   SEG=?XD?FNDECODEGPVTG?GPS_NMEA
?FN_GPSPATTERNDETECT?BYTE . . . . .  X ADDR   0000H   R   SEG=?XD?FN_GPSPATTERNDETECT?GPS_NMEA
?PR?FNDECODEGPGGA?GPS_NMEA. . . . .  C SEG    008BH       REL=UNIT
?PR?FNDECODEGPGSA?GPS_NMEA. . . . .  C SEG    0001H       REL=UNIT
?PR?FNDECODEGPGSV?GPS_NMEA. . . . .  C SEG    007AH       REL=UNIT
?PR?FNDECODEGPRMC?GPS_NMEA. . . . .  C SEG    024FH       REL=UNIT
?PR?FNDECODEGPVTG?GPS_NMEA. . . . .  C SEG    00DBH       REL=UNIT
?PR?FN_DECODEGPS?GPS_NMEA . . . . .  C SEG    002FH       REL=UNIT
?PR?FN_GETGPSCOORDINATES?GPS_NMEA .  C SEG    001EH       REL=UNIT
?PR?FN_GPSPATTERNDETECT?GPS_NMEA. .  C SEG    006EH       REL=UNIT
?SC_0 . . . . . . . . . . . . . . .  C ADDR   0000H   R   SEG=?CO?GPS_NMEA
?SC_29. . . . . . . . . . . . . . .  C ADDR   001DH   R   SEG=?CO?GPS_NMEA
?SC_46. . . . . . . . . . . . . . .  C ADDR   002EH   R   SEG=?CO?GPS_NMEA
?SC_64. . . . . . . . . . . . . . .  C ADDR   0040H   R   SEG=?CO?GPS_NMEA
?SC_66. . . . . . . . . . . . . . .  C ADDR   0042H   R   SEG=?CO?GPS_NMEA
?SC_68. . . . . . . . . . . . . . .  C ADDR   0044H   R   SEG=?CO?GPS_NMEA
?SC_70. . . . . . . . . . . . . . .  C ADDR   0046H   R   SEG=?CO?GPS_NMEA
?SC_72. . . . . . . . . . . . . . .  C ADDR   0048H   R   SEG=?CO?GPS_NMEA
?SC_74. . . . . . . . . . . . . . .  C ADDR   004AH   R   SEG=?CO?GPS_NMEA
?XD?FNDECODEGPGGA?GPS_NMEA. . . . .  X SEG    0006H       REL=UNIT
?XD?FNDECODEGPGSV?GPS_NMEA. . . . .  X SEG    0005H       REL=UNIT
?XD?FNDECODEGPRMC?GPS_NMEA. . . . .  X SEG    0029H       REL=UNIT
?XD?FNDECODEGPVTG?GPS_NMEA. . . . .  X SEG    000EH       REL=UNIT
?XD?FN_GPSPATTERNDETECT?GPS_NMEA. .  X SEG    0007H       REL=UNIT
?XD?GPS_NMEA. . . . . . . . . . . .  X SEG    0077H       REL=UNIT
?_PRINTF?BYTE . . . . . . . . . . .  X ADDR   -----       EXT
?_STRNCPY?BYTE. . . . . . . . . . .  X ADDR   -----       EXT
AC. . . . . . . . . . . . . . . . .  B ADDR   00D0H.6 A   
ACC . . . . . . . . . . . . . . . .  D ADDR   00E0H   A   
B . . . . . . . . . . . . . . . . .  D ADDR   00F0H   A   
BUZZER_PIN. . . . . . . . . . . . .  B ADDR   0080H.0 A   
CP_RL2. . . . . . . . . . . . . . .  B ADDR   00C8H.0 A   
CY. . . . . . . . . . . . . . . . .  B ADDR   00D0H.7 A   
C_T2. . . . . . . . . . . . . . . .  B ADDR   00C8H.1 A   
DPH . . . . . . . . . . . . . . . .  D ADDR   0083H   A   
DPL . . . . . . . . . . . . . . . .  D ADDR   0082H   A   
EA. . . . . . . . . . . . . . . . .  B ADDR   00A8H.7 A   
EM_LOCK_ENABE_BUTTON. . . . . . . .  B ADDR   0080H.2 A   
EM_LOCK_PIN . . . . . . . . . . . .  B ADDR   0080H.3 A   
ENABLE_LCD. . . . . . . . . . . . .  B ADDR   0090H.3 A   
ES. . . . . . . . . . . . . . . . .  B ADDR   00A8H.4 A   
ET0 . . . . . . . . . . . . . . . .  B ADDR   00A8H.1 A   
ET1 . . . . . . . . . . . . . . . .  B ADDR   00A8H.3 A   
ET2 . . . . . . . . . . . . . . . .  B ADDR   00A8H.5 A   
EWINDICATOR . . . . . . . . . . . .  X ADDR   0000H   R   SEG=?XD?GPS_NMEA
EX0 . . . . . . . . . . . . . . . .  B ADDR   00A8H.0 A   
EX1 . . . . . . . . . . . . . . . .  B ADDR   00A8H.2 A   
EXEN2 . . . . . . . . . . . . . . .  B ADDR   00C8H.3 A   
EXF2. . . . . . . . . . . . . . . .  B ADDR   00C8H.6 A   
F0. . . . . . . . . . . . . . . . .  B ADDR   00D0H.5 A   
FNDECODEGPGGA . . . . . . . . . . .  C ADDR   0000H   R   SEG=?PR?FNDECODEGPGGA?GPS_NMEA
FNDECODEGPGSA . . . . . . . . . . .  C ADDR   0000H   R   SEG=?PR?FNDECODEGPGSA?GPS_NMEA
A51 MACRO ASSEMBLER  GPS_NMEA                                                             11/09/2012 17:30:01 PAGE    30

FNDECODEGPGSV . . . . . . . . . . .  C ADDR   0000H   R   SEG=?PR?FNDECODEGPGSV?GPS_NMEA
FNDECODEGPRMC . . . . . . . . . . .  C ADDR   0000H   R   SEG=?PR?FNDECODEGPRMC?GPS_NMEA
FNDECODEGPVTG . . . . . . . . . . .  C ADDR   0000H   R   SEG=?PR?FNDECODEGPVTG?GPS_NMEA
FN_DECODEGPS. . . . . . . . . . . .  C ADDR   0000H   R   SEG=?PR?FN_DECODEGPS?GPS_NMEA
FN_GETGPSCOORDINATES. . . . . . . .  C ADDR   0000H   R   SEG=?PR?FN_GETGPSCOORDINATES?GPS_NMEA
FN_GPSPATTERNDETECT . . . . . . . .  C ADDR   0000H   R   SEG=?PR?FN_GPSPATTERNDETECT?GPS_NMEA
FN_RECEIVE_SERIAL . . . . . . . . .  C ADDR   -----       EXT
GPSPATTERN. . . . . . . . . . . . .  X ADDR   0043H   R   SEG=?XD?GPS_NMEA
GPS_NMEA. . . . . . . . . . . . . .  N NUMB   -----       
GUCHCOMPLETEDATAPACKET. . . . . . .  X ADDR   0001H   R   SEG=?XD?GPS_NMEA
GUCHLATITUDE. . . . . . . . . . . .  X ADDR   006CH   R   SEG=?XD?GPS_NMEA
GUCHLONGITUDE . . . . . . . . . . .  X ADDR   0061H   R   SEG=?XD?GPS_NMEA
IE. . . . . . . . . . . . . . . . .  D ADDR   00A8H   A   
IE0 . . . . . . . . . . . . . . . .  B ADDR   0088H.1 A   
IE1 . . . . . . . . . . . . . . . .  B ADDR   0088H.3 A   
INT0. . . . . . . . . . . . . . . .  B ADDR   00B0H.2 A   
INT1. . . . . . . . . . . . . . . .  B ADDR   00B0H.3 A   
IP. . . . . . . . . . . . . . . . .  D ADDR   00B8H   A   
IT0 . . . . . . . . . . . . . . . .  B ADDR   0088H.0 A   
IT1 . . . . . . . . . . . . . . . .  B ADDR   0088H.2 A   
KEYBOARD_KEY_1. . . . . . . . . . .  B ADDR   00A0H.0 A   
KEYBOARD_KEY_10 . . . . . . . . . .  B ADDR   0080H.6 A   
KEYBOARD_KEY_11 . . . . . . . . . .  B ADDR   0080H.5 A   
KEYBOARD_KEY_12 . . . . . . . . . .  B ADDR   0080H.4 A   
KEYBOARD_KEY_2. . . . . . . . . . .  B ADDR   00A0H.1 A   
KEYBOARD_KEY_3. . . . . . . . . . .  B ADDR   00A0H.2 A   
KEYBOARD_KEY_4. . . . . . . . . . .  B ADDR   00A0H.3 A   
KEYBOARD_KEY_5. . . . . . . . . . .  B ADDR   00A0H.4 A   
KEYBOARD_KEY_6. . . . . . . . . . .  B ADDR   00A0H.5 A   
KEYBOARD_KEY_7. . . . . . . . . . .  B ADDR   00A0H.6 A   
KEYBOARD_KEY_8. . . . . . . . . . .  B ADDR   00A0H.7 A   
KEYBOARD_KEY_9. . . . . . . . . . .  B ADDR   0080H.7 A   
LCD_D4_LSB. . . . . . . . . . . . .  B ADDR   0090H.4 A   
LCD_D5. . . . . . . . . . . . . . .  B ADDR   0090H.5 A   
LCD_D6. . . . . . . . . . . . . . .  B ADDR   0090H.6 A   
LCD_D7_MSB. . . . . . . . . . . . .  B ADDR   0090H.7 A   
MODULESELECT0 . . . . . . . . . . .  B ADDR   00B0H.7 A   
MODULESELECT1 . . . . . . . . . . .  B ADDR   00B0H.6 A   
NSINDICATOR . . . . . . . . . . . .  X ADDR   0042H   R   SEG=?XD?GPS_NMEA
OV. . . . . . . . . . . . . . . . .  B ADDR   00D0H.2 A   
P . . . . . . . . . . . . . . . . .  B ADDR   00D0H.0 A   
P0. . . . . . . . . . . . . . . . .  D ADDR   0080H   A   
P1. . . . . . . . . . . . . . . . .  D ADDR   0090H   A   
P2. . . . . . . . . . . . . . . . .  D ADDR   00A0H   A   
P3. . . . . . . . . . . . . . . . .  D ADDR   00B0H   A   
PCON. . . . . . . . . . . . . . . .  D ADDR   0087H   A   
PS. . . . . . . . . . . . . . . . .  B ADDR   00B8H.4 A   
PSW . . . . . . . . . . . . . . . .  D ADDR   00D0H   A   
PT0 . . . . . . . . . . . . . . . .  B ADDR   00B8H.1 A   
PT1 . . . . . . . . . . . . . . . .  B ADDR   00B8H.3 A   
PT2 . . . . . . . . . . . . . . . .  B ADDR   00B8H.5 A   
PX0 . . . . . . . . . . . . . . . .  B ADDR   00B8H.0 A   
PX1 . . . . . . . . . . . . . . . .  B ADDR   00B8H.2 A   
RB8 . . . . . . . . . . . . . . . .  B ADDR   0098H.2 A   
RCAP2H. . . . . . . . . . . . . . .  D ADDR   00CBH   A   
RCAP2L. . . . . . . . . . . . . . .  D ADDR   00CAH   A   
RCLK. . . . . . . . . . . . . . . .  B ADDR   00C8H.5 A   
RD. . . . . . . . . . . . . . . . .  B ADDR   00B0H.7 A   
REN . . . . . . . . . . . . . . . .  B ADDR   0098H.4 A   
RI. . . . . . . . . . . . . . . . .  B ADDR   0098H.0 A   
RS0 . . . . . . . . . . . . . . . .  B ADDR   00D0H.3 A   
RS1 . . . . . . . . . . . . . . . .  B ADDR   00D0H.4 A   
RS_LCD. . . . . . . . . . . . . . .  B ADDR   0090H.2 A   
RXD . . . . . . . . . . . . . . . .  B ADDR   00B0H.0 A   
SBUF. . . . . . . . . . . . . . . .  D ADDR   0099H   A   
SCON. . . . . . . . . . . . . . . .  D ADDR   0098H   A   
A51 MACRO ASSEMBLER  GPS_NMEA                                                             11/09/2012 17:30:01 PAGE    31

SM0 . . . . . . . . . . . . . . . .  B ADDR   0098H.7 A   
SM1 . . . . . . . . . . . . . . . .  B ADDR   0098H.6 A   
SM2 . . . . . . . . . . . . . . . .  B ADDR   0098H.5 A   
SP. . . . . . . . . . . . . . . . .  D ADDR   0081H   A   
T0. . . . . . . . . . . . . . . . .  B ADDR   00B0H.4 A   
T1. . . . . . . . . . . . . . . . .  B ADDR   00B0H.5 A   
T2. . . . . . . . . . . . . . . . .  B ADDR   0090H.0 A   
T2CON . . . . . . . . . . . . . . .  D ADDR   00C8H   A   
T2EX. . . . . . . . . . . . . . . .  B ADDR   0090H.1 A   
TB8 . . . . . . . . . . . . . . . .  B ADDR   0098H.3 A   
TCLK. . . . . . . . . . . . . . . .  B ADDR   00C8H.4 A   
TCON. . . . . . . . . . . . . . . .  D ADDR   0088H   A   
TF0 . . . . . . . . . . . . . . . .  B ADDR   0088H.5 A   
TF1 . . . . . . . . . . . . . . . .  B ADDR   0088H.7 A   
TF2 . . . . . . . . . . . . . . . .  B ADDR   00C8H.7 A   
TH0 . . . . . . . . . . . . . . . .  D ADDR   008CH   A   
TH1 . . . . . . . . . . . . . . . .  D ADDR   008DH   A   
TH2 . . . . . . . . . . . . . . . .  D ADDR   00CDH   A   
TI. . . . . . . . . . . . . . . . .  B ADDR   0098H.1 A   
TL0 . . . . . . . . . . . . . . . .  D ADDR   008AH   A   
TL1 . . . . . . . . . . . . . . . .  D ADDR   008BH   A   
TL2 . . . . . . . . . . . . . . . .  D ADDR   00CCH   A   
TMOD. . . . . . . . . . . . . . . .  D ADDR   0089H   A   
TR0 . . . . . . . . . . . . . . . .  B ADDR   0088H.4 A   
TR1 . . . . . . . . . . . . . . . .  B ADDR   0088H.6 A   
TR2 . . . . . . . . . . . . . . . .  B ADDR   00C8H.2 A   
TXD . . . . . . . . . . . . . . . .  B ADDR   00B0H.1 A   
UCHCOUNT?040. . . . . . . . . . . .  X ADDR   0000H   R   SEG=?XD?FN_GPSPATTERNDETECT?GPS_NMEA
UCHCOUNT?345. . . . . . . . . . . .  X ADDR   0005H   R   SEG=?XD?FNDECODEGPGGA?GPS_NMEA
UCHCOUNT?549. . . . . . . . . . . .  X ADDR   0004H   R   SEG=?XD?FNDECODEGPGSV?GPS_NMEA
UCHCOUNT?658. . . . . . . . . . . .  X ADDR   0027H   R   SEG=?XD?FNDECODEGPRMC?GPS_NMEA
UCHCOUNT?762. . . . . . . . . . . .  X ADDR   000DH   R   SEG=?XD?FNDECODEGPVTG?GPS_NMEA
UCHE_W_INDICATOR?656. . . . . . . .  X ADDR   001FH   R   SEG=?XD?FNDECODEGPRMC?GPS_NMEA
UCHGPSLATITUDEARRAY?653 . . . . . .  X ADDR   0008H   R   SEG=?XD?FNDECODEGPRMC?GPS_NMEA
UCHGPSLONGITUDEARRAY?655. . . . . .  X ADDR   0014H   R   SEG=?XD?FNDECODEGPRMC?GPS_NMEA
UCHGPSNOOFSATELLITESINVIEW?547. . .  X ADDR   0000H   R   SEG=?XD?FNDECODEGPGSV?GPS_NMEA
UCHGPSNOOFSATELLITESINVIEWARRAY?548  X ADDR   0001H   R   SEG=?XD?FNDECODEGPGSV?GPS_NMEA
UCHGPSQUALITYINDICATOR?342. . . . .  X ADDR   0000H   R   SEG=?XD?FNDECODEGPGGA?GPS_NMEA
UCHGPSSPEEDINKMPHARRAY?761. . . . .  X ADDR   0006H   R   SEG=?XD?FNDECODEGPVTG?GPS_NMEA
UCHGPSSPEEDINKNOTSARRAY?760 . . . .  X ADDR   0000H   R   SEG=?XD?FNDECODEGPVTG?GPS_NMEA
UCHGPSUTCDATEARRAY?657. . . . . . .  X ADDR   0020H   R   SEG=?XD?FNDECODEGPRMC?GPS_NMEA
UCHGPSUTCTIMEARRAY?651. . . . . . .  X ADDR   0000H   R   SEG=?XD?FNDECODEGPRMC?GPS_NMEA
UCHNOSATELLITESUSED?344 . . . . . .  X ADDR   0004H   R   SEG=?XD?FNDECODEGPGGA?GPS_NMEA
UCHNOSATELLITESUSEDARRAY?343. . . .  X ADDR   0001H   R   SEG=?XD?FNDECODEGPGGA?GPS_NMEA
UCHN_S_INDICATOR?654. . . . . . . .  X ADDR   0013H   R   SEG=?XD?FNDECODEGPRMC?GPS_NMEA
UCHPATTERNRECEIVED?041. . . . . . .  X ADDR   0001H   R   SEG=?XD?FN_GPSPATTERNDETECT?GPS_NMEA
UCHSERIALDATA . . . . . . . . . . .  X ADDR   -----       EXT
UCHSTATUS?652 . . . . . . . . . . .  X ADDR   0007H   R   SEG=?XD?FNDECODEGPRMC?GPS_NMEA
UCHTEMP?659 . . . . . . . . . . . .  X ADDR   0028H   R   SEG=?XD?FNDECODEGPRMC?GPS_NMEA
WR. . . . . . . . . . . . . . . . .  B ADDR   00B0H.6 A   
_ATOI . . . . . . . . . . . . . . .  C ADDR   -----       EXT
_FNMODULESELECT . . . . . . . . . .  C ADDR   -----       EXT
_PRINTF . . . . . . . . . . . . . .  C ADDR   -----       EXT
_STRNCPY. . . . . . . . . . . . . .  C ADDR   -----       EXT


REGISTER BANK(S) USED: 0 


ASSEMBLY COMPLETE.  0 WARNING(S), 0 ERROR(S)
